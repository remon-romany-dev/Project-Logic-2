{"file_contents":{"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","path":null,"size_bytes":261,"size_tokens":null},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":711,"size_tokens":null},"server/routes.ts":{"content":"import type { Express, Request, Response } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { setupAuth, isAuthenticated } from \"./replitAuth\";\nimport { QuotaManager } from \"./ai/quotaManager\";\nimport { chat, WORDPRESS_SYSTEM_PROMPT, generateImageWithGemini } from \"./ai/services\";\nimport { getAllModels } from \"./ai/providers\";\n\nexport async function registerRoutes(\n  httpServer: Server,\n  app: Express\n): Promise<Server> {\n  // Setup Replit Auth\n  await setupAuth(app);\n\n  // Auth routes\n  app.get(\"/api/auth/user\", isAuthenticated, async (req: any, res: Response) => {\n    try {\n      const userId = req.user.claims.sub;\n      const user = await storage.getUser(userId);\n      res.json(user);\n    } catch (error) {\n      console.error(\"Error fetching user:\", error);\n      res.status(500).json({ message: \"Failed to fetch user\" });\n    }\n  });\n\n  // ============ CONVERSATIONS ============\n  app.get(\"/api/conversations\", isAuthenticated, async (req: any, res: Response) => {\n    try {\n      const userId = req.user.claims.sub;\n      const conversations = await storage.getConversationsByUser(userId);\n      res.json(conversations);\n    } catch (error) {\n      console.error(\"Error fetching conversations:\", error);\n      res.status(500).json({ message: \"Failed to fetch conversations\" });\n    }\n  });\n\n  app.post(\"/api/conversations\", isAuthenticated, async (req: any, res: Response) => {\n    try {\n      const userId = req.user.claims.sub;\n      const { title, model } = req.body;\n      const conversation = await storage.createConversation({\n        userId,\n        title: title || \"New Chat\",\n        model: model || \"gemini-2.5-flash\",\n      });\n      res.json(conversation);\n    } catch (error) {\n      console.error(\"Error creating conversation:\", error);\n      res.status(500).json({ message: \"Failed to create conversation\" });\n    }\n  });\n\n  app.get(\"/api/conversations/:id\", isAuthenticated, async (req: any, res: Response) => {\n    try {\n      const conversation = await storage.getConversation(req.params.id);\n      if (!conversation) {\n        return res.status(404).json({ message: \"Conversation not found\" });\n      }\n      const messages = await storage.getMessagesByConversation(req.params.id);\n      res.json({ ...conversation, messages });\n    } catch (error) {\n      console.error(\"Error fetching conversation:\", error);\n      res.status(500).json({ message: \"Failed to fetch conversation\" });\n    }\n  });\n\n  app.delete(\"/api/conversations/:id\", isAuthenticated, async (req: any, res: Response) => {\n    try {\n      await storage.deleteConversation(req.params.id);\n      res.json({ success: true });\n    } catch (error) {\n      console.error(\"Error deleting conversation:\", error);\n      res.status(500).json({ message: \"Failed to delete conversation\" });\n    }\n  });\n\n  // ============ MESSAGES ============\n  app.post(\"/api/conversations/:id/messages\", isAuthenticated, async (req: any, res: Response) => {\n    try {\n      const { role, content, model, tokensUsed, cost } = req.body;\n      const message = await storage.createMessage({\n        conversationId: req.params.id,\n        role,\n        content,\n        model,\n        tokensUsed,\n        cost,\n      });\n      res.json(message);\n    } catch (error) {\n      console.error(\"Error creating message:\", error);\n      res.status(500).json({ message: \"Failed to create message\" });\n    }\n  });\n\n  // ============ QUOTAS ============\n  app.get(\"/api/quotas\", isAuthenticated, async (req: any, res: Response) => {\n    try {\n      const userId = req.user.claims.sub;\n      let quotas = await storage.getApiQuotas(userId);\n\n      // Initialize default quotas if not exist\n      if (quotas.length === 0) {\n        const defaultQuotas = [\n          { userId, provider: \"gemini\" as const, dailyLimit: 1500, isFree: true },\n          { userId, provider: \"anthropic\" as const, dailyLimit: 1000, isFree: true },\n          { userId, provider: \"groq\" as const, dailyLimit: 10000, isFree: true },\n          { userId, provider: \"openai\" as const, dailyLimit: 100, isFree: false, costPerRequest: \"0.002000\" },\n        ];\n        for (const quota of defaultQuotas) {\n          await storage.upsertApiQuota(quota);\n        }\n        quotas = await storage.getApiQuotas(userId);\n      }\n\n      res.json(quotas);\n    } catch (error) {\n      console.error(\"Error fetching quotas:\", error);\n      res.status(500).json({ message: \"Failed to fetch quotas\" });\n    }\n  });\n\n  // ============ WP PROJECTS ============\n  app.get(\"/api/wp-projects\", isAuthenticated, async (req: any, res: Response) => {\n    try {\n      const userId = req.user.claims.sub;\n      const projects = await storage.getWpProjectsByUser(userId);\n      res.json(projects);\n    } catch (error) {\n      console.error(\"Error fetching WP projects:\", error);\n      res.status(500).json({ message: \"Failed to fetch projects\" });\n    }\n  });\n\n  app.get(\"/api/wp-projects/:id\", isAuthenticated, async (req: any, res: Response) => {\n    try {\n      const project = await storage.getWpProject(req.params.id);\n      if (!project) {\n        return res.status(404).json({ message: \"Project not found\" });\n      }\n      const issues = await storage.getWpIssuesByProject(req.params.id);\n      res.json({ ...project, issues });\n    } catch (error) {\n      console.error(\"Error fetching WP project:\", error);\n      res.status(500).json({ message: \"Failed to fetch project\" });\n    }\n  });\n\n  // ============ GENERATED IMAGES ============\n  app.get(\"/api/images\", isAuthenticated, async (req: any, res: Response) => {\n    try {\n      const userId = req.user.claims.sub;\n      const images = await storage.getGeneratedImagesByUser(userId);\n      res.json(images);\n    } catch (error) {\n      console.error(\"Error fetching images:\", error);\n      res.status(500).json({ message: \"Failed to fetch images\" });\n    }\n  });\n\n  app.delete(\"/api/images/:id\", isAuthenticated, async (req: any, res: Response) => {\n    try {\n      await storage.deleteGeneratedImage(req.params.id);\n      res.json({ success: true });\n    } catch (error) {\n      console.error(\"Error deleting image:\", error);\n      res.status(500).json({ message: \"Failed to delete image\" });\n    }\n  });\n\n  // ============ ELEMENTOR TEMPLATES ============\n  app.get(\"/api/elementor-templates\", isAuthenticated, async (req: any, res: Response) => {\n    try {\n      const userId = req.user.claims.sub;\n      const templates = await storage.getElementorTemplatesByUser(userId);\n      res.json(templates);\n    } catch (error) {\n      console.error(\"Error fetching templates:\", error);\n      res.status(500).json({ message: \"Failed to fetch templates\" });\n    }\n  });\n\n  app.delete(\"/api/elementor-templates/:id\", isAuthenticated, async (req: any, res: Response) => {\n    try {\n      await storage.deleteElementorTemplate(req.params.id);\n      res.json({ success: true });\n    } catch (error) {\n      console.error(\"Error deleting template:\", error);\n      res.status(500).json({ message: \"Failed to delete template\" });\n    }\n  });\n\n  // ============ WALLET ============\n  app.get(\"/api/wallet/transactions\", isAuthenticated, async (req: any, res: Response) => {\n    try {\n      const userId = req.user.claims.sub;\n      const transactions = await storage.getWalletTransactionsByUser(userId);\n      res.json(transactions);\n    } catch (error) {\n      console.error(\"Error fetching transactions:\", error);\n      res.status(500).json({ message: \"Failed to fetch transactions\" });\n    }\n  });\n\n  // ============ USER SETTINGS ============\n  app.patch(\"/api/user/settings\", isAuthenticated, async (req: any, res: Response) => {\n    try {\n      const userId = req.user.claims.sub;\n      const { language, theme, firstName, lastName } = req.body;\n      const user = await storage.updateUser(userId, {\n        language,\n        theme,\n        firstName,\n        lastName,\n      });\n      res.json(user);\n    } catch (error) {\n      console.error(\"Error updating user settings:\", error);\n      res.status(500).json({ message: \"Failed to update settings\" });\n    }\n  });\n\n  // ============ AI CHAT ============\n  app.post(\"/api/chat\", isAuthenticated, async (req: any, res: Response) => {\n    try {\n      const userId = req.user.claims.sub;\n      const { conversationId, message, modelId = \"gemini-2.5-flash\" } = req.body;\n\n      if (!message || !conversationId) {\n        return res.status(400).json({ message: \"Message and conversationId are required\" });\n      }\n\n      // Check quota and get best available provider\n      const quotaManager = new QuotaManager(userId);\n      const quotaResult = await quotaManager.checkAndGetBestProvider(modelId);\n\n      if (!quotaResult.canProceed) {\n        return res.status(429).json({\n          message: \"All free API quotas exhausted. Please add funds to your wallet for paid usage.\",\n          quotaStatus: quotaManager.getQuotaStatus(),\n        });\n      }\n\n      // Save user message\n      await storage.createMessage({\n        conversationId,\n        role: \"user\",\n        content: message,\n        model: quotaResult.model.id,\n      });\n\n      // Get conversation history for context\n      const allMessages = await storage.getMessagesByConversation(conversationId);\n      const chatHistory = allMessages.map((m) => ({\n        role: m.role as \"user\" | \"assistant\" | \"system\",\n        content: m.content,\n      }));\n\n      // Add system prompt\n      const messagesWithSystem = [\n        { role: \"system\" as const, content: WORDPRESS_SYSTEM_PROMPT },\n        ...chatHistory,\n      ];\n\n      // Call AI\n      const aiResponse = await chat(messagesWithSystem, quotaResult.model.id);\n\n      // Save assistant response\n      const assistantMessage = await storage.createMessage({\n        conversationId,\n        role: \"assistant\",\n        content: aiResponse.content,\n        model: quotaResult.model.id,\n        tokensUsed: aiResponse.tokensUsed,\n        cost: quotaResult.cost > 0 ? quotaResult.cost.toFixed(6) : undefined,\n      });\n\n      // Increment usage\n      await quotaManager.incrementUsage(quotaResult.provider);\n\n      // Update conversation title if it's the first message\n      const conversation = await storage.getConversation(conversationId);\n      if (conversation && conversation.title === \"New Chat\" && allMessages.length <= 1) {\n        const title = message.substring(0, 50) + (message.length > 50 ? \"...\" : \"\");\n        await storage.updateConversationTitle(conversationId, title);\n      }\n\n      res.json({\n        message: assistantMessage,\n        usedModel: quotaResult.model.name,\n        switchedProvider: quotaResult.switchedProvider,\n        quotaRemaining: quotaResult.quotaRemaining,\n      });\n    } catch (error: any) {\n      console.error(\"Error in AI chat:\", error);\n      res.status(500).json({ message: error.message || \"Failed to process chat\" });\n    }\n  });\n\n  // ============ AI MODELS ============\n  app.get(\"/api/ai/models\", isAuthenticated, async (_req: any, res: Response) => {\n    try {\n      const models = getAllModels();\n      res.json(models);\n    } catch (error) {\n      console.error(\"Error fetching models:\", error);\n      res.status(500).json({ message: \"Failed to fetch models\" });\n    }\n  });\n\n  // ============ IMAGE GENERATION ============\n  app.post(\"/api/images/generate\", isAuthenticated, async (req: any, res: Response) => {\n    try {\n      const userId = req.user.claims.sub;\n      const { prompt, style = \"realistic\" } = req.body;\n\n      if (!prompt) {\n        return res.status(400).json({ message: \"Prompt is required\" });\n      }\n\n      // Check quota\n      const quotaManager = new QuotaManager(userId);\n      const quotaResult = await quotaManager.checkAndGetBestProvider(\"gemini-2.5-flash\");\n\n      if (!quotaResult.canProceed) {\n        return res.status(429).json({\n          message: \"All free API quotas exhausted\",\n        });\n      }\n\n      // Generate image\n      const fullPrompt = `${style} style: ${prompt}`;\n      const imageData = await generateImageWithGemini(fullPrompt);\n\n      if (!imageData) {\n        return res.status(500).json({ message: \"Failed to generate image\" });\n      }\n\n      // Save to database\n      const generatedImage = await storage.createGeneratedImage({\n        userId,\n        prompt,\n        style,\n        imageUrl: imageData,\n        model: \"gemini-2.0-flash-preview-image-generation\",\n      });\n\n      // Increment usage\n      await quotaManager.incrementUsage(quotaResult.provider);\n\n      res.json(generatedImage);\n    } catch (error: any) {\n      console.error(\"Error generating image:\", error);\n      res.status(500).json({ message: error.message || \"Failed to generate image\" });\n    }\n  });\n\n  return httpServer;\n}\n","path":null,"size_bytes":12693,"size_tokens":null},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","path":null,"size_bytes":325,"size_tokens":null},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","path":null,"size_bytes":2751,"size_tokens":null},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","path":null,"size_bytes":756,"size_tokens":null},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","path":null,"size_bytes":166,"size_tokens":null},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","path":null,"size_bytes":1753,"size_tokens":null},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","path":null,"size_bytes":1251,"size_tokens":null},"client/src/pages/ImageAI.tsx":{"content":"import { useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport {\n  Sparkles,\n  Download,\n  RefreshCw,\n  Image as ImageIcon,\n  Loader2,\n  Settings,\n  Wand2,\n  Copy,\n  Check,\n  Trash2,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { useLanguage } from \"@/contexts/LanguageContext\";\n\ninterface GeneratedImage {\n  id: string;\n  prompt: string;\n  imageUrl: string;\n  model: string;\n  size: string;\n  createdAt: Date;\n}\n\n// Mock generated images\nconst mockImages: GeneratedImage[] = [\n  {\n    id: \"1\",\n    prompt: \"Professional WordPress developer working on laptop, modern office, clean design\",\n    imageUrl: \"https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=512\",\n    model: \"dall-e-3\",\n    size: \"1024x1024\",\n    createdAt: new Date(),\n  },\n  {\n    id: \"2\",\n    prompt: \"Abstract technology background, blue gradient, geometric shapes\",\n    imageUrl: \"https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=512\",\n    model: \"stable-diffusion\",\n    size: \"1024x1024\",\n    createdAt: new Date(),\n  },\n];\n\nexport default function ImageAI() {\n  const { t } = useLanguage();\n  const [prompt, setPrompt] = useState(\"\");\n  const [model, setModel] = useState(\"dall-e-3\");\n  const [size, setSize] = useState(\"1024x1024\");\n  const [style, setStyle] = useState(\"vivid\");\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [images, setImages] = useState<GeneratedImage[]>(mockImages);\n  const [selectedImage, setSelectedImage] = useState<GeneratedImage | null>(null);\n  const [copiedPrompt, setCopiedPrompt] = useState(false);\n\n  const handleGenerate = async () => {\n    if (!prompt.trim() || isGenerating) return;\n\n    setIsGenerating(true);\n\n    // Simulate generation (will be replaced with real API)\n    await new Promise((resolve) => setTimeout(resolve, 3000));\n\n    const newImage: GeneratedImage = {\n      id: Date.now().toString(),\n      prompt: prompt.trim(),\n      imageUrl: \"https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=512\",\n      model,\n      size,\n      createdAt: new Date(),\n    };\n\n    setImages((prev) => [newImage, ...prev]);\n    setSelectedImage(newImage);\n    setIsGenerating(false);\n  };\n\n  const copyPrompt = (promptText: string) => {\n    navigator.clipboard.writeText(promptText);\n    setCopiedPrompt(true);\n    setTimeout(() => setCopiedPrompt(false), 2000);\n  };\n\n  const deleteImage = (id: string) => {\n    setImages((prev) => prev.filter((img) => img.id !== id));\n    if (selectedImage?.id === id) {\n      setSelectedImage(null);\n    }\n  };\n\n  const modelOptions = [\n    { value: \"dall-e-3\", label: \"DALL-E 3\", provider: \"OpenAI\", cost: \"$0.04\" },\n    { value: \"stable-diffusion\", label: \"Stable Diffusion XL\", provider: \"Stability\", cost: \"Free\" },\n  ];\n\n  const sizeOptions = [\n    { value: \"1024x1024\", label: \"Square (1024x1024)\" },\n    { value: \"1024x1792\", label: \"Portrait (1024x1792)\" },\n    { value: \"1792x1024\", label: \"Landscape (1792x1024)\" },\n  ];\n\n  return (\n    <div className=\"flex h-full flex-col lg:flex-row\">\n      {/* Left Panel - Generate */}\n      <div className=\"flex w-full flex-col border-b border-border lg:w-[400px] lg:border-b-0 lg:border-r\">\n        <div className=\"border-b border-border p-4\">\n          <h1 className=\"text-xl font-bold\">{t(\"nav.imageAi\")}</h1>\n          <p className=\"text-sm text-muted-foreground\">{t(\"feature.imageAi.desc\")}</p>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-4\">\n          <div className=\"space-y-4\">\n            {/* Prompt Input */}\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-medium\">Prompt</label>\n              <Textarea\n                value={prompt}\n                onChange={(e) => setPrompt(e.target.value)}\n                placeholder={t(\"image.prompt\")}\n                className=\"min-h-[120px] resize-none\"\n                data-testid=\"input-image-prompt\"\n              />\n            </div>\n\n            {/* Model Selection */}\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-medium\">Model</label>\n              <Select value={model} onValueChange={setModel}>\n                <SelectTrigger data-testid=\"select-model\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {modelOptions.map((opt) => (\n                    <SelectItem key={opt.value} value={opt.value}>\n                      <div className=\"flex items-center justify-between gap-3\">\n                        <span>{opt.label}</span>\n                        <Badge variant={opt.cost === \"Free\" ? \"secondary\" : \"outline\"} className=\"text-xs\">\n                          {opt.cost}\n                        </Badge>\n                      </div>\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            {/* Size Selection */}\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-medium\">Size</label>\n              <Select value={size} onValueChange={setSize}>\n                <SelectTrigger data-testid=\"select-size\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {sizeOptions.map((opt) => (\n                    <SelectItem key={opt.value} value={opt.value}>\n                      {opt.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            {/* Style Selection (DALL-E 3 only) */}\n            {model === \"dall-e-3\" && (\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium\">Style</label>\n                <Select value={style} onValueChange={setStyle}>\n                  <SelectTrigger data-testid=\"select-style\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"vivid\">Vivid</SelectItem>\n                    <SelectItem value=\"natural\">Natural</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            )}\n\n            {/* Generate Button */}\n            <Button\n              className=\"w-full gap-2\"\n              size=\"lg\"\n              onClick={handleGenerate}\n              disabled={!prompt.trim() || isGenerating}\n              data-testid=\"button-generate-image\"\n            >\n              {isGenerating ? (\n                <>\n                  <Loader2 className=\"h-5 w-5 animate-spin\" />\n                  {t(\"image.generating\")}\n                </>\n              ) : (\n                <>\n                  <Wand2 className=\"h-5 w-5\" />\n                  {t(\"image.generate\")}\n                </>\n              )}\n            </Button>\n\n            {/* Cost indicator */}\n            <div className=\"text-center text-sm text-muted-foreground\">\n              {model === \"dall-e-3\" ? (\n                <span className=\"flex items-center justify-center gap-1\">\n                  <span className=\"inline-block h-1.5 w-1.5 rounded-full bg-yellow-500\" />\n                  Cost: $0.04 per image\n                </span>\n              ) : (\n                <span className=\"flex items-center justify-center gap-1\">\n                  <span className=\"inline-block h-1.5 w-1.5 rounded-full bg-green-500\" />\n                  Free tier\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Right Panel - Gallery & Preview */}\n      <div className=\"flex flex-1 flex-col overflow-hidden\">\n        {/* Preview */}\n        <AnimatePresence mode=\"wait\">\n          {selectedImage ? (\n            <motion.div\n              key={selectedImage.id}\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              className=\"relative flex-1 overflow-hidden bg-card/30 p-4\"\n            >\n              <div className=\"relative flex h-full items-center justify-center\">\n                <img\n                  src={selectedImage.imageUrl}\n                  alt={selectedImage.prompt}\n                  className=\"max-h-full max-w-full rounded-lg object-contain shadow-lg\"\n                  data-testid=\"image-preview\"\n                />\n\n                {/* Image Actions */}\n                <div className=\"absolute bottom-4 right-4 flex gap-2\">\n                  <Button\n                    variant=\"secondary\"\n                    size=\"sm\"\n                    className=\"gap-2\"\n                    onClick={() => copyPrompt(selectedImage.prompt)}\n                    data-testid=\"button-copy-prompt\"\n                  >\n                    {copiedPrompt ? <Check className=\"h-4 w-4\" /> : <Copy className=\"h-4 w-4\" />}\n                    {copiedPrompt ? t(\"chat.copied\") : \"Copy Prompt\"}\n                  </Button>\n                  <Button variant=\"secondary\" size=\"sm\" className=\"gap-2\" data-testid=\"button-download-image\">\n                    <Download className=\"h-4 w-4\" />\n                    {t(\"image.download\")}\n                  </Button>\n                  <Button\n                    variant=\"secondary\"\n                    size=\"sm\"\n                    className=\"gap-2\"\n                    onClick={() => {\n                      setPrompt(selectedImage.prompt);\n                    }}\n                  >\n                    <RefreshCw className=\"h-4 w-4\" />\n                    {t(\"image.regenerate\")}\n                  </Button>\n                </div>\n\n                {/* Image Info */}\n                <div className=\"absolute left-4 top-4\">\n                  <Card className=\"bg-background/80 backdrop-blur-sm\">\n                    <CardContent className=\"p-3\">\n                      <p className=\"mb-2 max-w-[300px] text-sm\">{selectedImage.prompt}</p>\n                      <div className=\"flex items-center gap-2\">\n                        <Badge variant=\"outline\">{selectedImage.model}</Badge>\n                        <Badge variant=\"secondary\">{selectedImage.size}</Badge>\n                      </div>\n                    </CardContent>\n                  </Card>\n                </div>\n              </div>\n            </motion.div>\n          ) : (\n            <motion.div\n              key=\"empty\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              className=\"flex flex-1 items-center justify-center bg-card/30\"\n            >\n              <div className=\"text-center\">\n                <ImageIcon className=\"mx-auto mb-4 h-16 w-16 text-muted-foreground opacity-50\" />\n                <p className=\"text-muted-foreground\">Generate or select an image to preview</p>\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Gallery */}\n        <div className=\"border-t border-border bg-card/50 p-4\">\n          <div className=\"mb-3 flex items-center justify-between\">\n            <h2 className=\"font-medium\">{t(\"image.gallery\")}</h2>\n            <Badge variant=\"secondary\">{images.length} images</Badge>\n          </div>\n          <ScrollArea className=\"h-[120px]\">\n            <div className=\"flex gap-3\">\n              {images.map((img) => (\n                <motion.div\n                  key={img.id}\n                  initial={{ opacity: 0, scale: 0.9 }}\n                  animate={{ opacity: 1, scale: 1 }}\n                  className={`group relative shrink-0 cursor-pointer overflow-hidden rounded-lg ${\n                    selectedImage?.id === img.id ? \"ring-2 ring-primary\" : \"\"\n                  }`}\n                  onClick={() => setSelectedImage(img)}\n                  data-testid={`gallery-image-${img.id}`}\n                >\n                  <img\n                    src={img.imageUrl}\n                    alt={img.prompt}\n                    className=\"h-[100px] w-[100px] object-cover\"\n                  />\n                  <div className=\"absolute inset-0 flex items-center justify-center bg-black/50 opacity-0 transition-opacity group-hover:opacity-100\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-8 w-8 text-white\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        deleteImage(img.id);\n                      }}\n                    >\n                      <Trash2 className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </motion.div>\n              ))}\n            </div>\n          </ScrollArea>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":13011,"size_tokens":null},"server/replitAuth.ts":{"content":"import * as client from \"openid-client\";\nimport { Strategy, type VerifyFunction } from \"openid-client/passport\";\n\nimport passport from \"passport\";\nimport session from \"express-session\";\nimport type { Express, RequestHandler } from \"express\";\nimport memoize from \"memoizee\";\nimport connectPg from \"connect-pg-simple\";\nimport { storage } from \"./storage\";\n\nconst getOidcConfig = memoize(\n  async () => {\n    return await client.discovery(\n      new URL(process.env.ISSUER_URL ?? \"https://replit.com/oidc\"),\n      process.env.REPL_ID!\n    );\n  },\n  { maxAge: 3600 * 1000 }\n);\n\nexport function getSession() {\n  const sessionTtl = 7 * 24 * 60 * 60 * 1000; // 1 week\n  const pgStore = connectPg(session);\n  const sessionStore = new pgStore({\n    conString: process.env.DATABASE_URL,\n    createTableIfMissing: false,\n    ttl: sessionTtl,\n    tableName: \"sessions\",\n  });\n  return session({\n    secret: process.env.SESSION_SECRET!,\n    store: sessionStore,\n    resave: false,\n    saveUninitialized: false,\n    cookie: {\n      httpOnly: true,\n      secure: true,\n      maxAge: sessionTtl,\n    },\n  });\n}\n\nfunction updateUserSession(\n  user: any,\n  tokens: client.TokenEndpointResponse & client.TokenEndpointResponseHelpers\n) {\n  user.claims = tokens.claims();\n  user.access_token = tokens.access_token;\n  user.refresh_token = tokens.refresh_token;\n  user.expires_at = user.claims?.exp;\n}\n\nasync function upsertUser(claims: any) {\n  await storage.upsertUser({\n    id: claims[\"sub\"],\n    email: claims[\"email\"],\n    firstName: claims[\"first_name\"],\n    lastName: claims[\"last_name\"],\n    profileImageUrl: claims[\"profile_image_url\"],\n  });\n}\n\nexport async function setupAuth(app: Express) {\n  app.set(\"trust proxy\", 1);\n  app.use(getSession());\n  app.use(passport.initialize());\n  app.use(passport.session());\n\n  const config = await getOidcConfig();\n\n  const verify: VerifyFunction = async (\n    tokens: client.TokenEndpointResponse & client.TokenEndpointResponseHelpers,\n    verified: passport.AuthenticateCallback\n  ) => {\n    const user = {};\n    updateUserSession(user, tokens);\n    await upsertUser(tokens.claims());\n    verified(null, user);\n  };\n\n  const registeredStrategies = new Set<string>();\n\n  const ensureStrategy = (domain: string) => {\n    const strategyName = `replitauth:${domain}`;\n    if (!registeredStrategies.has(strategyName)) {\n      const strategy = new Strategy(\n        {\n          name: strategyName,\n          config,\n          scope: \"openid email profile offline_access\",\n          callbackURL: `https://${domain}/api/callback`,\n        },\n        verify\n      );\n      passport.use(strategy);\n      registeredStrategies.add(strategyName);\n    }\n  };\n\n  passport.serializeUser((user: Express.User, cb) => cb(null, user));\n  passport.deserializeUser((user: Express.User, cb) => cb(null, user));\n\n  app.get(\"/api/login\", (req, res, next) => {\n    ensureStrategy(req.hostname);\n    passport.authenticate(`replitauth:${req.hostname}`, {\n      prompt: \"login consent\",\n      scope: [\"openid\", \"email\", \"profile\", \"offline_access\"],\n    })(req, res, next);\n  });\n\n  app.get(\"/api/callback\", (req, res, next) => {\n    ensureStrategy(req.hostname);\n    passport.authenticate(`replitauth:${req.hostname}`, {\n      successReturnToOrRedirect: \"/\",\n      failureRedirect: \"/api/login\",\n    })(req, res, next);\n  });\n\n  app.get(\"/api/logout\", (req, res) => {\n    req.logout(() => {\n      res.redirect(\n        client.buildEndSessionUrl(config, {\n          client_id: process.env.REPL_ID!,\n          post_logout_redirect_uri: `${req.protocol}://${req.hostname}`,\n        }).href\n      );\n    });\n  });\n}\n\nexport const isAuthenticated: RequestHandler = async (req, res, next) => {\n  const user = req.user as any;\n\n  if (!req.isAuthenticated() || !user.expires_at) {\n    return res.status(401).json({ message: \"Unauthorized\" });\n  }\n\n  const now = Math.floor(Date.now() / 1000);\n  if (now <= user.expires_at) {\n    return next();\n  }\n\n  const refreshToken = user.refresh_token;\n  if (!refreshToken) {\n    res.status(401).json({ message: \"Unauthorized\" });\n    return;\n  }\n\n  try {\n    const config = await getOidcConfig();\n    const tokenResponse = await client.refreshTokenGrant(config, refreshToken);\n    updateUserSession(user, tokenResponse);\n    return next();\n  } catch (error) {\n    res.status(401).json({ message: \"Unauthorized\" });\n    return;\n  }\n};\n","path":null,"size_bytes":4365,"size_tokens":null},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","path":null,"size_bytes":1209,"size_tokens":null},"server/ai/quotaManager.ts":{"content":"// Smart Quota Manager for Remon Romany Genius\n// Automatically cycles through free API tiers\n\nimport { storage } from \"../storage\";\nimport { AI_PROVIDERS, getProviderById, getModelById, type AIModel } from \"./providers\";\nimport type { ApiQuota } from \"@shared/schema\";\n\ninterface QuotaCheckResult {\n  canProceed: boolean;\n  provider: string;\n  model: AIModel;\n  cost: number;\n  quotaUsed: number;\n  quotaRemaining: number;\n  switchedProvider?: string; // If we switched to a different provider\n}\n\nexport class QuotaManager {\n  private userId: string;\n  private quotas: Map<string, ApiQuota> = new Map();\n\n  constructor(userId: string) {\n    this.userId = userId;\n  }\n\n  async loadQuotas(): Promise<void> {\n    const quotas = await storage.getApiQuotas(this.userId);\n    \n    // Initialize quotas if not exist\n    if (quotas.length === 0) {\n      await this.initializeQuotas();\n      const newQuotas = await storage.getApiQuotas(this.userId);\n      for (const quota of newQuotas) {\n        this.quotas.set(quota.provider, quota);\n      }\n    } else {\n      for (const quota of quotas) {\n        // Check if we need to reset daily quotas\n        const lastReset = quota.lastResetAt ? new Date(quota.lastResetAt) : new Date(0);\n        const now = new Date();\n        const isNewDay = lastReset.toDateString() !== now.toDateString();\n        \n        if (isNewDay) {\n          const updated = await storage.upsertApiQuota({\n            ...quota,\n            usedToday: 0,\n            lastResetAt: now,\n          });\n          this.quotas.set(quota.provider, updated);\n        } else {\n          this.quotas.set(quota.provider, quota);\n        }\n      }\n    }\n  }\n\n  private async initializeQuotas(): Promise<void> {\n    for (const provider of AI_PROVIDERS) {\n      await storage.upsertApiQuota({\n        userId: this.userId,\n        provider: provider.id as any,\n        dailyLimit: provider.dailyFreeLimit,\n        usedToday: 0,\n        isFree: provider.isFree,\n        costPerRequest: provider.isFree ? \"0\" : \"0.002000\",\n      });\n    }\n  }\n\n  async checkAndGetBestProvider(requestedModelId: string): Promise<QuotaCheckResult> {\n    await this.loadQuotas();\n    \n    const requestedModel = getModelById(requestedModelId);\n    if (!requestedModel) {\n      // Default to Gemini if model not found\n      const defaultModel = getModelById(\"gemini-2.5-flash\")!;\n      return this.checkProviderQuota(defaultModel);\n    }\n\n    // First, try the requested model's provider\n    const result = await this.checkProviderQuota(requestedModel);\n    if (result.canProceed) {\n      return result;\n    }\n\n    // If the requested provider is exhausted, try to find an alternative free provider\n    const freeProviders = AI_PROVIDERS.filter((p) => p.isFree && p.id !== requestedModel.provider);\n    \n    for (const provider of freeProviders) {\n      const alternativeModel = provider.models[0]; // Use the first model of the alternative provider\n      const altResult = await this.checkProviderQuota(alternativeModel);\n      if (altResult.canProceed) {\n        return {\n          ...altResult,\n          switchedProvider: provider.name,\n        };\n      }\n    }\n\n    // All free tiers exhausted, check if paid is available\n    const paidProviders = AI_PROVIDERS.filter((p) => !p.isFree);\n    for (const provider of paidProviders) {\n      const paidModel = provider.models[0];\n      return {\n        canProceed: true,\n        provider: provider.id,\n        model: paidModel,\n        cost: paidModel.costPerRequest || 0,\n        quotaUsed: 0,\n        quotaRemaining: Infinity,\n        switchedProvider: `${provider.name} (Paid)`,\n      };\n    }\n\n    // Should never reach here, but return a failed result\n    return {\n      canProceed: false,\n      provider: requestedModel.provider,\n      model: requestedModel,\n      cost: 0,\n      quotaUsed: 0,\n      quotaRemaining: 0,\n    };\n  }\n\n  private async checkProviderQuota(model: AIModel): Promise<QuotaCheckResult> {\n    const quota = this.quotas.get(model.provider);\n    const provider = getProviderById(model.provider);\n\n    if (!quota || !provider) {\n      return {\n        canProceed: false,\n        provider: model.provider,\n        model,\n        cost: 0,\n        quotaUsed: 0,\n        quotaRemaining: 0,\n      };\n    }\n\n    const usedToday = quota.usedToday || 0;\n    const dailyLimit = quota.dailyLimit || 0;\n    const remaining = dailyLimit - usedToday;\n\n    // For paid providers, always allow (wallet check happens elsewhere)\n    if (!provider.isFree) {\n      return {\n        canProceed: true,\n        provider: model.provider,\n        model,\n        cost: model.costPerRequest || 0,\n        quotaUsed: usedToday,\n        quotaRemaining: Infinity,\n      };\n    }\n\n    // For free providers, check if quota is available\n    if (remaining > 0) {\n      return {\n        canProceed: true,\n        provider: model.provider,\n        model,\n        cost: 0,\n        quotaUsed: usedToday,\n        quotaRemaining: remaining,\n      };\n    }\n\n    return {\n      canProceed: false,\n      provider: model.provider,\n      model,\n      cost: 0,\n      quotaUsed: usedToday,\n      quotaRemaining: 0,\n    };\n  }\n\n  async incrementUsage(provider: string): Promise<void> {\n    const quota = this.quotas.get(provider);\n    if (!quota) return;\n\n    const newUsed = (quota.usedToday || 0) + 1;\n    await storage.upsertApiQuota({\n      ...quota,\n      usedToday: newUsed,\n    });\n    \n    this.quotas.set(provider, { ...quota, usedToday: newUsed });\n  }\n\n  getQuotaStatus(): { provider: string; used: number; limit: number; remaining: number; isFree: boolean }[] {\n    const status = [];\n    for (const [providerId, quota] of this.quotas) {\n      const provider = getProviderById(providerId);\n      if (provider) {\n        status.push({\n          provider: providerId,\n          used: quota.usedToday || 0,\n          limit: quota.dailyLimit || 0,\n          remaining: (quota.dailyLimit || 0) - (quota.usedToday || 0),\n          isFree: provider.isFree,\n        });\n      }\n    }\n    return status;\n  }\n}\n","path":null,"size_bytes":6019,"size_tokens":null},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","path":null,"size_bytes":2154,"size_tokens":null},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","path":null,"size_bytes":772,"size_tokens":null},"client/src/contexts/LanguageContext.tsx":{"content":"import { createContext, useContext, useState, useEffect, type ReactNode } from \"react\";\nimport { type Language, detectLanguage, getDirection, t as translate } from \"@/lib/i18n\";\n\ninterface LanguageContextType {\n  language: Language;\n  setLanguage: (lang: Language) => void;\n  t: (key: string) => string;\n  dir: \"ltr\" | \"rtl\";\n  isRTL: boolean;\n}\n\nconst LanguageContext = createContext<LanguageContextType | undefined>(undefined);\n\nexport function LanguageProvider({ children }: { children: ReactNode }) {\n  const [language, setLanguageState] = useState<Language>(() => {\n    if (typeof localStorage !== \"undefined\") {\n      const saved = localStorage.getItem(\"language\");\n      if (saved && [\"ar\", \"en\", \"de\", \"fr\", \"es\"].includes(saved)) {\n        return saved as Language;\n      }\n    }\n    return detectLanguage();\n  });\n\n  const setLanguage = (lang: Language) => {\n    setLanguageState(lang);\n    localStorage.setItem(\"language\", lang);\n  };\n\n  const dir = getDirection(language);\n  const isRTL = dir === \"rtl\";\n\n  useEffect(() => {\n    document.documentElement.setAttribute(\"dir\", dir);\n    document.documentElement.setAttribute(\"lang\", language);\n  }, [language, dir]);\n\n  const t = (key: string) => translate(key, language);\n\n  return (\n    <LanguageContext.Provider value={{ language, setLanguage, t, dir, isRTL }}>\n      {children}\n    </LanguageContext.Provider>\n  );\n}\n\nexport function useLanguage() {\n  const context = useContext(LanguageContext);\n  if (!context) {\n    throw new Error(\"useLanguage must be used within a LanguageProvider\");\n  }\n  return context;\n}\n","path":null,"size_bytes":1577,"size_tokens":null},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","path":null,"size_bytes":1202,"size_tokens":null},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","path":null,"size_bytes":4050,"size_tokens":null},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","path":null,"size_bytes":4120,"size_tokens":null},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { SidebarProvider, SidebarTrigger } from \"@/components/ui/sidebar\";\nimport { ThemeProvider } from \"@/contexts/ThemeContext\";\nimport { LanguageProvider } from \"@/contexts/LanguageContext\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { Header } from \"@/components/layout/Header\";\nimport { AppSidebar } from \"@/components/layout/AppSidebar\";\nimport Landing from \"@/pages/Landing\";\nimport Dashboard from \"@/pages/Dashboard\";\nimport Chat from \"@/pages/Chat\";\nimport WordPressDoctor from \"@/pages/WordPressDoctor\";\nimport IDE from \"@/pages/IDE\";\nimport ImageAI from \"@/pages/ImageAI\";\nimport Elementor from \"@/pages/Elementor\";\nimport Wallet from \"@/pages/Wallet\";\nimport Settings from \"@/pages/Settings\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction AuthenticatedLayout({ children }: { children: React.ReactNode }) {\n  const style = {\n    \"--sidebar-width\": \"16rem\",\n    \"--sidebar-width-icon\": \"3rem\",\n  };\n\n  return (\n    <SidebarProvider style={style as React.CSSProperties}>\n      <div className=\"flex min-h-screen w-full\">\n        <AppSidebar />\n        <div className=\"flex flex-1 flex-col overflow-hidden\">\n          <Header />\n          <main className=\"flex-1 overflow-auto\">{children}</main>\n        </div>\n      </div>\n    </SidebarProvider>\n  );\n}\n\nfunction Router() {\n  const { isAuthenticated, isLoading } = useAuth();\n\n  if (isLoading) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-background\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <div className=\"h-12 w-12 animate-spin rounded-full border-4 border-primary border-t-transparent\" />\n          <p className=\"text-muted-foreground\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return <Landing />;\n  }\n\n  return (\n    <AuthenticatedLayout>\n      <Switch>\n        <Route path=\"/\" component={Dashboard} />\n        <Route path=\"/chat\" component={Chat} />\n        <Route path=\"/chat/:id\" component={Chat} />\n        <Route path=\"/wordpress-doctor\" component={WordPressDoctor} />\n        <Route path=\"/ide\" component={IDE} />\n        <Route path=\"/image-ai\" component={ImageAI} />\n        <Route path=\"/elementor\" component={Elementor} />\n        <Route path=\"/wallet\" component={Wallet} />\n        <Route path=\"/settings\" component={Settings} />\n        <Route component={NotFound} />\n      </Switch>\n    </AuthenticatedLayout>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ThemeProvider>\n        <LanguageProvider>\n          <TooltipProvider>\n            <Toaster />\n            <Router />\n          </TooltipProvider>\n        </LanguageProvider>\n      </ThemeProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","path":null,"size_bytes":3015,"size_tokens":null},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","path":null,"size_bytes":4845,"size_tokens":null},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","path":null,"size_bytes":7609,"size_tokens":null},"design_guidelines.md":{"content":"# Design Guidelines - Remon Romany Genius\n\n## Design Approach: Material Design 3 + Developer-Focused Enhancements\n\n**Rationale:** This is a productivity platform requiring clarity, efficiency, and information density. Material Design 3 provides excellent patterns for complex dashboards while maintaining accessibility and consistency across RTL/LTR layouts.\n\n**Key Principles:**\n- **Efficiency First:** Every pixel serves a purpose - maximize information density without clutter\n- **Code-Centric:** Design around code readability and AI interaction patterns\n- **Bilingual Excellence:** Seamless RTL/LTR switching without layout breaks\n- **Progressive Disclosure:** Show complexity only when needed\n\n---\n\n## Typography\n\n**Font Families:**\n- **UI/Body:** Inter (CDN: Google Fonts) - exceptional readability at all sizes, excellent Arabic support\n- **Code/Monospace:** JetBrains Mono (CDN: Google Fonts) - optimized for developers with ligatures\n- **Headings:** Inter SemiBold/Bold\n\n**Scale (Tailwind units):**\n- Hero headings: `text-4xl` to `text-6xl` (48-60px)\n- Section headings: `text-2xl` to `text-3xl` (24-30px)\n- Body: `text-base` (16px)\n- Code: `text-sm` (14px)\n- Captions/metadata: `text-xs` (12px)\n\n**Hierarchy:**\n- Primary headings: SemiBold, tight letter-spacing\n- Body text: Regular weight, balanced line-height (1.6)\n- Code blocks: Monospace, slightly reduced line-height (1.4)\n\n---\n\n## Layout System\n\n**Spacing Primitives:** Use Tailwind units of **2, 4, 8, 12, 16** for consistent rhythm\n- Micro spacing (within components): `p-2`, `gap-2`\n- Component padding: `p-4`, `p-6`  \n- Section spacing: `py-8`, `py-12`, `py-16`\n- Page margins: `px-4` mobile, `px-8` desktop\n\n**Grid Structure:**\n- Dashboard: Sidebar (280px fixed) + Main content (fluid)\n- Content max-width: `max-w-7xl` (1280px) for readability\n- Cards/panels: `max-w-4xl` for code displays\n- Chat interface: `max-w-3xl` centered for optimal reading\n\n**RTL Considerations:**\n- Mirror all layouts automatically using `dir=\"rtl\"` attribute\n- Icons flip horizontally (arrows, chevrons)\n- Code blocks remain LTR even in RTL context\n- Padding/margins auto-flip via Tailwind's RTL support\n\n---\n\n## Component Library\n\n### Navigation & Shell\n**Top Bar:**\n- Fixed height: `h-16`\n- Logo left (LTR) / right (RTL), language switcher, theme toggle, user menu right/left\n- Glass effect: `backdrop-blur-md bg-white/70 dark:bg-gray-900/70`\n\n**Sidebar:**\n- Collapsible drawer (mobile: overlay, desktop: persistent)\n- Nav items: Icon + label, active state with accent color background\n- Quota meters at bottom (compact progress rings)\n\n### AI Chat Interface\n**Message Container:**\n- User messages: Align right (LTR) / left (RTL), navy blue bubble\n- AI messages: Align left (LTR) / right (RTL), glass effect card\n- Code blocks: Full-width, dark background, syntax highlighting via Prism.js\n- Streaming indicator: Pulsing cursor at message end\n\n**Input Area:**\n- Fixed bottom bar with `backdrop-blur`\n- Multi-line textarea, auto-expand up to 200px\n- Model selector dropdown (left of input)\n- Send button (right of input)\n\n### Cards & Panels\n**Standard Card:**\n- Glass effect: `backdrop-blur-lg bg-white/80 dark:bg-gray-800/80`\n- Border: `border border-gray-200/50 dark:border-gray-700/50`\n- Rounded corners: `rounded-xl`\n- Shadow: `shadow-lg shadow-navy-500/10`\n\n**Analysis Results Card (WordPress Doctor):**\n- Three-column layout (Security / Performance / Code Quality)\n- Score badges: Circular progress (0-100)\n- Issue list: Expandable accordion items with severity color coding\n\n### Forms & Inputs\n**Text Inputs:**\n- Height: `h-12`\n- Padding: `px-4`\n- Border: `border-2 focus:border-navy-500`\n- Rounded: `rounded-lg`\n\n**File Upload Zone:**\n- Dashed border dropzone: `border-2 border-dashed border-gray-300`\n- Height: `min-h-[200px]`\n- Center-aligned icon + text\n- Drag-over state: Border changes to navy blue\n\n### Code Editor (Monaco)\n**Container:**\n- Full viewport height minus header/footer\n- Split view option: 50/50 or 60/40 adjustable\n- Minimap on right (LTR) / left (RTL)\n\n**File Tree:**\n- Width: `w-64`\n- Icons via VS Code icon library\n- Indent: `pl-4` per level\n\n### Buttons\n**Primary Action:**\n- Navy blue background: `bg-navy-600 hover:bg-navy-700`\n- Height: `h-11`\n- Padding: `px-6`\n- Rounded: `rounded-lg`\n\n**Secondary:**\n- Ghost style: `border-2 border-navy-500 text-navy-500 hover:bg-navy-50`\n\n**Icon Buttons:**\n- Square: `w-10 h-10`\n- Rounded: `rounded-lg`\n- Ghost or subtle fill\n\n### Quota Meters\n**Visual Style:**\n- Horizontal progress bar: Height `h-2`, rounded ends\n- Color gradient: Green (0-60%)  Yellow (60-85%)  Red (85-100%)\n- Label above: Provider name + remaining count\n- Stacked layout showing all 5 providers\n\n---\n\n## Images\n\n**Hero Section (Landing/Marketing):**\n- Large hero image: AI-generated abstract tech/code visualization (1920x800px)\n- Overlay: `bg-gradient-to-r from-navy-900/90 to-purple-900/80`\n- CTA buttons on hero: Blurred background `backdrop-blur-md bg-white/20`\n\n**Dashboard:**\n- No hero images - prioritize functional density\n- Empty states: Minimal illustration (300x200px) for \"no projects yet\"\n- AI avatar icons: Circular (48px) next to AI messages\n\n**WordPress Doctor Results:**\n- Placeholder thumbnails for uploaded theme previews (200x150px)\n- Icon-based illustrations for issue types (no photos)\n\n---\n\n## Special Considerations\n\n**Glassmorphism:**\n- Primary surfaces: `backdrop-blur-lg` with `bg-white/80` (light) / `bg-gray-900/80` (dark)\n- Accent cards: `backdrop-blur-md` with subtle navy tint\n\n**Dark Mode:**\n- Base: `bg-gray-950` (almost black)\n- Cards: `bg-gray-900/80`\n- Text: `text-gray-100`\n- Accents remain navy blue\n\n**Animations:**\n- Minimize distractions - use only for:\n  - Page transitions: Subtle fade (200ms)\n  - Loading states: Skeleton screens or spinner\n  - Notification toasts: Slide-in from top-right\n- No parallax, no continuous animations\n\n**Accessibility:**\n- All interactive elements: Minimum `h-11` tap target\n- Focus rings: `ring-2 ring-navy-500 ring-offset-2`\n- Color contrast: WCAG AAA for text\n- Keyboard navigation: Full support for all features\n\n---\n\n## Layout Examples\n\n**Dashboard Home:**\n- Top: Welcome header + quick stats (4 cards: Requests Today, Cost Saved, Active Projects, Quota Status)\n- Main: Recent chats list (left 60%) + Quota meters sidebar (right 40%)\n\n**Chat Interface:**\n- Full-height split: Chat messages (70%) + Context panel (30%, collapsible)\n- Bottom: Fixed input bar with model selector\n\n**WordPress Doctor:**\n- Three-step wizard: Upload  Analysis (progress)  Results\n- Results: Tabbed interface (Security / Performance / Code) with issue details below\n\n**IDE Mode:**\n- Classic three-panel: File tree (20%) | Editor (60%) | AI Assistant (20%)\n- All panels resizable with drag handles","path":null,"size_bytes":6761,"size_tokens":null},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","path":null,"size_bytes":3848,"size_tokens":null},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","path":null,"size_bytes":4281,"size_tokens":null},"server/static.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(__dirname, \"public\");\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","path":null,"size_bytes":547,"size_tokens":null},"client/src/contexts/ThemeContext.tsx":{"content":"import { createContext, useContext, useState, useEffect, type ReactNode } from \"react\";\n\ntype Theme = \"light\" | \"dark\";\n\ninterface ThemeContextType {\n  theme: Theme;\n  setTheme: (theme: Theme) => void;\n  toggleTheme: () => void;\n  isDark: boolean;\n}\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nexport function ThemeProvider({ children }: { children: ReactNode }) {\n  const [theme, setThemeState] = useState<Theme>(() => {\n    if (typeof localStorage !== \"undefined\") {\n      const saved = localStorage.getItem(\"theme\");\n      if (saved === \"light\" || saved === \"dark\") {\n        return saved;\n      }\n    }\n    // Default to dark theme for this app\n    return \"dark\";\n  });\n\n  const setTheme = (newTheme: Theme) => {\n    setThemeState(newTheme);\n    localStorage.setItem(\"theme\", newTheme);\n  };\n\n  const toggleTheme = () => {\n    setTheme(theme === \"dark\" ? \"light\" : \"dark\");\n  };\n\n  useEffect(() => {\n    const root = document.documentElement;\n    if (theme === \"dark\") {\n      root.classList.add(\"dark\");\n    } else {\n      root.classList.remove(\"dark\");\n    }\n  }, [theme]);\n\n  return (\n    <ThemeContext.Provider value={{ theme, setTheme, toggleTheme, isDark: theme === \"dark\" }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext);\n  if (!context) {\n    throw new Error(\"useTheme must be used within a ThemeProvider\");\n  }\n  return context;\n}\n","path":null,"size_bytes":1460,"size_tokens":null},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","path":null,"size_bytes":4885,"size_tokens":null},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","path":null,"size_bytes":710,"size_tokens":null},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","path":null,"size_bytes":2712,"size_tokens":null},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --background: 220 15% 98%;\n  --foreground: 220 20% 15%;\n  --border: 220 15% 88%;\n  --card: 220 15% 96%;\n  --card-foreground: 220 20% 15%;\n  --card-border: 220 15% 90%;\n  --sidebar: 220 15% 94%;\n  --sidebar-foreground: 220 20% 15%;\n  --sidebar-border: 220 15% 87%;\n  --sidebar-primary: 217 91% 45%;\n  --sidebar-primary-foreground: 0 0% 98%;\n  --sidebar-accent: 220 15% 88%;\n  --sidebar-accent-foreground: 220 20% 15%;\n  --sidebar-ring: 217 91% 45%;\n  --popover: 220 15% 92%;\n  --popover-foreground: 220 20% 15%;\n  --popover-border: 220 15% 85%;\n  --primary: 217 91% 35%;\n  --primary-foreground: 0 0% 98%;\n  --secondary: 220 15% 86%;\n  --secondary-foreground: 220 20% 15%;\n  --muted: 220 15% 90%;\n  --muted-foreground: 220 15% 35%;\n  --accent: 220 15% 92%;\n  --accent-foreground: 220 20% 15%;\n  --destructive: 0 84% 38%;\n  --destructive-foreground: 0 0% 98%;\n  --input: 220 20% 65%;\n  --ring: 217 91% 45%;\n  --chart-1: 217 91% 35%;\n  --chart-2: 173 58% 39%;\n  --chart-3: 197 37% 24%;\n  --chart-4: 43 74% 49%;\n  --chart-5: 27 87% 47%;\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --background: 220 20% 8%;\n  --foreground: 220 10% 95%;\n  --border: 220 15% 18%;\n  --card: 220 20% 10%;\n  --card-foreground: 220 10% 95%;\n  --card-border: 220 15% 13%;\n  --sidebar: 220 20% 12%;\n  --sidebar-foreground: 220 10% 95%;\n  --sidebar-border: 220 15% 16%;\n  --sidebar-primary: 217 91% 55%;\n  --sidebar-primary-foreground: 0 0% 98%;\n  --sidebar-accent: 220 18% 16%;\n  --sidebar-accent-foreground: 220 10% 95%;\n  --sidebar-ring: 217 91% 55%;\n  --popover: 220 20% 14%;\n  --popover-foreground: 220 10% 95%;\n  --popover-border: 220 15% 18%;\n  --primary: 217 91% 45%;\n  --primary-foreground: 0 0% 98%;\n  --secondary: 220 18% 18%;\n  --secondary-foreground: 220 10% 95%;\n  --muted: 220 18% 16%;\n  --muted-foreground: 220 12% 65%;\n  --accent: 220 18% 14%;\n  --accent-foreground: 220 10% 95%;\n  --destructive: 0 84% 38%;\n  --destructive-foreground: 0 0% 98%;\n  --input: 220 20% 35%;\n  --ring: 217 91% 55%;\n  --chart-1: 217 91% 65%;\n  --chart-2: 173 58% 65%;\n  --chart-3: 197 37% 55%;\n  --chart-4: 43 74% 65%;\n  --chart-5: 27 87% 62%;\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n\n  /* RTL Support */\n  [dir=\"rtl\"] {\n    text-align: right;\n  }\n\n  [dir=\"rtl\"] .sidebar {\n    direction: rtl;\n  }\n\n  /* Smooth transitions */\n  * {\n    transition-property: color, background-color, border-color;\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    transition-duration: 150ms;\n  }\n\n  /* Scrollbar styling */\n  ::-webkit-scrollbar {\n    width: 8px;\n    height: 8px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: transparent;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: hsl(var(--muted));\n    border-radius: 4px;\n  }\n\n  ::-webkit-scrollbar-thumb:hover {\n    background: hsl(var(--muted-foreground) / 0.5);\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}\n","path":null,"size_bytes":9538,"size_tokens":null},"script/build.ts":{"content":"import { build as esbuild } from \"esbuild\";\nimport { build as viteBuild } from \"vite\";\nimport { rm, readFile } from \"fs/promises\";\n\n// server deps to bundle to reduce openat(2) syscalls\n// which helps cold start times\nconst allowlist = [\n  \"@google/generative-ai\",\n  \"axios\",\n  \"connect-pg-simple\",\n  \"cors\",\n  \"date-fns\",\n  \"drizzle-orm\",\n  \"drizzle-zod\",\n  \"express\",\n  \"express-rate-limit\",\n  \"express-session\",\n  \"jsonwebtoken\",\n  \"memorystore\",\n  \"multer\",\n  \"nanoid\",\n  \"nodemailer\",\n  \"openai\",\n  \"passport\",\n  \"passport-local\",\n  \"pg\",\n  \"stripe\",\n  \"uuid\",\n  \"ws\",\n  \"xlsx\",\n  \"zod\",\n  \"zod-validation-error\",\n];\n\nasync function buildAll() {\n  await rm(\"dist\", { recursive: true, force: true });\n\n  console.log(\"building client...\");\n  await viteBuild();\n\n  console.log(\"building server...\");\n  const pkg = JSON.parse(await readFile(\"package.json\", \"utf-8\"));\n  const allDeps = [\n    ...Object.keys(pkg.dependencies || {}),\n    ...Object.keys(pkg.devDependencies || {}),\n  ];\n  const externals = allDeps.filter((dep) => !allowlist.includes(dep));\n\n  await esbuild({\n    entryPoints: [\"server/index.ts\"],\n    platform: \"node\",\n    bundle: true,\n    format: \"cjs\",\n    outfile: \"dist/index.cjs\",\n    define: {\n      \"process.env.NODE_ENV\": '\"production\"',\n    },\n    minify: true,\n    external: externals,\n    logLevel: \"info\",\n  });\n}\n\nbuildAll().catch((err) => {\n  console.error(err);\n  process.exit(1);\n});\n","path":null,"size_bytes":1417,"size_tokens":null},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","path":null,"size_bytes":8605,"size_tokens":null},"client/src/components/layout/AppSidebar.tsx":{"content":"import { Link, useLocation } from \"wouter\";\nimport {\n  MessageSquare,\n  Shield,\n  Code2,\n  ImagePlus,\n  LayoutGrid,\n  Settings,\n  Wallet,\n  Home,\n  Zap,\n} from \"lucide-react\";\nimport {\n  Sidebar,\n  SidebarContent,\n  SidebarGroup,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarMenu,\n  SidebarMenuItem,\n  SidebarMenuButton,\n  SidebarFooter,\n} from \"@/components/ui/sidebar\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useLanguage } from \"@/contexts/LanguageContext\";\n\n// AI Provider quota data (will be fetched from API)\nconst mockQuotas = [\n  { name: \"Gemini\", used: 450, limit: 1500, color: \"bg-blue-500\" },\n  { name: \"Claude\", used: 200, limit: 1000, color: \"bg-purple-500\" },\n  { name: \"Groq\", used: 0, limit: 10000, color: \"bg-orange-500\" },\n];\n\nexport function AppSidebar() {\n  const [location] = useLocation();\n  const { t, isRTL } = useLanguage();\n\n  const navItems = [\n    { title: t(\"nav.home\"), url: \"/\", icon: Home },\n    { title: t(\"nav.chat\"), url: \"/chat\", icon: MessageSquare },\n    { title: t(\"nav.wpDoctor\"), url: \"/wordpress-doctor\", icon: Shield },\n    { title: t(\"nav.ide\"), url: \"/ide\", icon: Code2 },\n    { title: t(\"nav.imageAi\"), url: \"/image-ai\", icon: ImagePlus },\n    { title: t(\"nav.elementor\"), url: \"/elementor\", icon: LayoutGrid },\n  ];\n\n  const settingsItems = [\n    { title: t(\"nav.wallet\"), url: \"/wallet\", icon: Wallet },\n    { title: t(\"nav.settings\"), url: \"/settings\", icon: Settings },\n  ];\n\n  return (\n    <Sidebar>\n      <SidebarContent>\n        {/* Main Navigation */}\n        <SidebarGroup>\n          <SidebarGroupLabel>{t(\"landing.features\")}</SidebarGroupLabel>\n          <SidebarGroupContent>\n            <SidebarMenu>\n              {navItems.map((item) => (\n                <SidebarMenuItem key={item.url}>\n                  <SidebarMenuButton\n                    asChild\n                    isActive={location === item.url}\n                    data-testid={`nav-${item.url.replace(\"/\", \"\") || \"home\"}`}\n                  >\n                    <Link href={item.url}>\n                      <item.icon className=\"h-4 w-4\" />\n                      <span>{item.title}</span>\n                    </Link>\n                  </SidebarMenuButton>\n                </SidebarMenuItem>\n              ))}\n            </SidebarMenu>\n          </SidebarGroupContent>\n        </SidebarGroup>\n\n        {/* Settings */}\n        <SidebarGroup>\n          <SidebarGroupLabel>{t(\"settings.title\")}</SidebarGroupLabel>\n          <SidebarGroupContent>\n            <SidebarMenu>\n              {settingsItems.map((item) => (\n                <SidebarMenuItem key={item.url}>\n                  <SidebarMenuButton\n                    asChild\n                    isActive={location === item.url}\n                    data-testid={`nav-${item.url.replace(\"/\", \"\")}`}\n                  >\n                    <Link href={item.url}>\n                      <item.icon className=\"h-4 w-4\" />\n                      <span>{item.title}</span>\n                    </Link>\n                  </SidebarMenuButton>\n                </SidebarMenuItem>\n              ))}\n            </SidebarMenu>\n          </SidebarGroupContent>\n        </SidebarGroup>\n      </SidebarContent>\n\n      {/* Quota Meters Footer */}\n      <SidebarFooter className=\"p-4\">\n        <div className=\"space-y-3\">\n          <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground\">\n            <Zap className=\"h-4 w-4\" />\n            <span>{t(\"dashboard.quotaStatus\")}</span>\n          </div>\n          {mockQuotas.map((quota) => {\n            const percentage = (quota.used / quota.limit) * 100;\n            const remaining = quota.limit - quota.used;\n            return (\n              <div key={quota.name} className=\"space-y-1\">\n                <div className=\"flex items-center justify-between text-xs\">\n                  <span className=\"font-medium\">{quota.name}</span>\n                  <span className=\"text-muted-foreground\">\n                    {remaining.toLocaleString()} {t(\"quota.remaining\")}\n                  </span>\n                </div>\n                <Progress \n                  value={percentage} \n                  className=\"h-2\"\n                  data-testid={`quota-progress-${quota.name.toLowerCase()}`}\n                />\n              </div>\n            );\n          })}\n          <Badge variant=\"secondary\" className=\"w-full justify-center text-xs\">\n            {t(\"quota.free\")}\n          </Badge>\n        </div>\n      </SidebarFooter>\n    </Sidebar>\n  );\n}\n","path":null,"size_bytes":4560,"size_tokens":null},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","path":null,"size_bytes":1592,"size_tokens":null},"client/src/pages/WordPressDoctor.tsx":{"content":"import { useState, useCallback } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport {\n  Upload,\n  Shield,\n  Zap,\n  Code2,\n  AlertTriangle,\n  AlertCircle,\n  CheckCircle,\n  FileArchive,\n  Download,\n  RefreshCw,\n  Loader2,\n  X,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport {\n  Accordion,\n  AccordionContent,\n  AccordionItem,\n  AccordionTrigger,\n} from \"@/components/ui/accordion\";\nimport { useLanguage } from \"@/contexts/LanguageContext\";\n\ninterface AnalysisResult {\n  name: string;\n  type: \"theme\" | \"plugin\";\n  version: string;\n  security: { score: number; issues: Issue[] };\n  performance: { score: number; issues: Issue[] };\n  codeQuality: { score: number; issues: Issue[] };\n}\n\ninterface Issue {\n  id: string;\n  severity: \"critical\" | \"high\" | \"medium\" | \"low\";\n  title: string;\n  description: string;\n  file?: string;\n  line?: number;\n  code?: string;\n  fix?: string;\n}\n\n// Mock analysis result for demo\nconst mockResult: AnalysisResult = {\n  name: \"MyCustomTheme\",\n  type: \"theme\",\n  version: \"1.2.0\",\n  security: {\n    score: 72,\n    issues: [\n      {\n        id: \"1\",\n        severity: \"critical\",\n        title: \"SQL Injection Vulnerability\",\n        description: \"Direct use of $wpdb->query() without prepared statements\",\n        file: \"includes/database.php\",\n        line: 45,\n        code: \"$wpdb->query(\\\"SELECT * FROM users WHERE id = \\\" . $_GET['id']);\",\n        fix: \"$wpdb->prepare(\\\"SELECT * FROM users WHERE id = %d\\\", intval($_GET['id']));\",\n      },\n      {\n        id: \"2\",\n        severity: \"high\",\n        title: \"XSS Vulnerability\",\n        description: \"Unescaped output of user input\",\n        file: \"templates/single.php\",\n        line: 23,\n        code: \"echo $_GET['search'];\",\n        fix: \"echo esc_html($_GET['search']);\",\n      },\n    ],\n  },\n  performance: {\n    score: 85,\n    issues: [\n      {\n        id: \"3\",\n        severity: \"medium\",\n        title: \"Large Image Files\",\n        description: \"Images over 500KB detected that should be optimized\",\n        file: \"assets/images/hero.jpg\",\n      },\n      {\n        id: \"4\",\n        severity: \"low\",\n        title: \"Unminified CSS\",\n        description: \"CSS files are not minified for production\",\n        file: \"assets/css/style.css\",\n      },\n    ],\n  },\n  codeQuality: {\n    score: 68,\n    issues: [\n      {\n        id: \"5\",\n        severity: \"medium\",\n        title: \"Deprecated Function Usage\",\n        description: \"Using deprecated WordPress function\",\n        file: \"functions.php\",\n        line: 156,\n        code: \"query_posts($args);\",\n        fix: \"$query = new WP_Query($args);\",\n      },\n    ],\n  },\n};\n\nexport default function WordPressDoctor() {\n  const { t, isRTL } = useLanguage();\n  const [isDragging, setIsDragging] = useState(false);\n  const [file, setFile] = useState<File | null>(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [result, setResult] = useState<AnalysisResult | null>(null);\n\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n  }, []);\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n    const droppedFile = e.dataTransfer.files[0];\n    if (droppedFile?.name.endsWith(\".zip\")) {\n      setFile(droppedFile);\n    }\n  }, []);\n\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFile = e.target.files?.[0];\n    if (selectedFile?.name.endsWith(\".zip\")) {\n      setFile(selectedFile);\n    }\n  };\n\n  const startAnalysis = async () => {\n    if (!file) return;\n    \n    setIsAnalyzing(true);\n    // Simulate analysis (will be replaced with real API)\n    await new Promise((resolve) => setTimeout(resolve, 3000));\n    setResult(mockResult);\n    setIsAnalyzing(false);\n  };\n\n  const resetAnalysis = () => {\n    setFile(null);\n    setResult(null);\n  };\n\n  const getSeverityColor = (severity: string) => {\n    switch (severity) {\n      case \"critical\": return \"bg-red-500\";\n      case \"high\": return \"bg-orange-500\";\n      case \"medium\": return \"bg-yellow-500\";\n      case \"low\": return \"bg-blue-500\";\n      default: return \"bg-gray-500\";\n    }\n  };\n\n  const getSeverityIcon = (severity: string) => {\n    switch (severity) {\n      case \"critical\": return AlertTriangle;\n      case \"high\": return AlertCircle;\n      default: return AlertCircle;\n    }\n  };\n\n  const getScoreColor = (score: number) => {\n    if (score >= 80) return \"text-green-500\";\n    if (score >= 60) return \"text-yellow-500\";\n    return \"text-red-500\";\n  };\n\n  return (\n    <div className=\"min-h-full p-4 sm:p-6 lg:p-8\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"mx-auto max-w-5xl space-y-6\"\n      >\n        {/* Header */}\n        <div className=\"text-center\">\n          <h1 className=\"mb-2 text-3xl font-bold\">{t(\"nav.wpDoctor\")}</h1>\n          <p className=\"text-muted-foreground\">{t(\"feature.wpDoctor.desc\")}</p>\n        </div>\n\n        <AnimatePresence mode=\"wait\">\n          {!result ? (\n            <motion.div\n              key=\"upload\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n            >\n              {/* Upload Zone */}\n              <Card className=\"overflow-hidden\">\n                <CardContent className=\"p-0\">\n                  <div\n                    className={`relative flex min-h-[300px] flex-col items-center justify-center gap-6 border-2 border-dashed p-8 transition-colors ${\n                      isDragging\n                        ? \"border-primary bg-primary/5\"\n                        : \"border-border hover:border-primary/50\"\n                    }`}\n                    onDragOver={handleDragOver}\n                    onDragLeave={handleDragLeave}\n                    onDrop={handleDrop}\n                    data-testid=\"dropzone-wp-upload\"\n                  >\n                    {file ? (\n                      <>\n                        <div className=\"flex h-20 w-20 items-center justify-center rounded-full bg-primary/10\">\n                          <FileArchive className=\"h-10 w-10 text-primary\" />\n                        </div>\n                        <div className=\"text-center\">\n                          <p className=\"font-semibold\">{file.name}</p>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {(file.size / 1024 / 1024).toFixed(2)} MB\n                          </p>\n                        </div>\n                        <div className=\"flex gap-3\">\n                          <Button\n                            onClick={startAnalysis}\n                            disabled={isAnalyzing}\n                            data-testid=\"button-start-analysis\"\n                          >\n                            {isAnalyzing ? (\n                              <>\n                                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                                {t(\"wp.analyzing\")}\n                              </>\n                            ) : (\n                              <>\n                                <Shield className=\"mr-2 h-4 w-4\" />\n                                Start Analysis\n                              </>\n                            )}\n                          </Button>\n                          <Button variant=\"outline\" onClick={resetAnalysis}>\n                            <X className=\"mr-2 h-4 w-4\" />\n                            {t(\"common.cancel\")}\n                          </Button>\n                        </div>\n                      </>\n                    ) : (\n                      <>\n                        <div className=\"flex h-20 w-20 items-center justify-center rounded-full bg-primary/10\">\n                          <Upload className=\"h-10 w-10 text-primary\" />\n                        </div>\n                        <div className=\"text-center\">\n                          <p className=\"text-lg font-semibold\">{t(\"wp.upload\")}</p>\n                          <p className=\"text-sm text-muted-foreground\">{t(\"wp.uploadDesc\")}</p>\n                        </div>\n                        <input\n                          type=\"file\"\n                          accept=\".zip\"\n                          onChange={handleFileSelect}\n                          className=\"hidden\"\n                          id=\"file-upload\"\n                          data-testid=\"input-wp-file\"\n                        />\n                        <label htmlFor=\"file-upload\">\n                          <Button asChild>\n                            <span>\n                              <Upload className=\"mr-2 h-4 w-4\" />\n                              {t(\"wp.upload\")}\n                            </span>\n                          </Button>\n                        </label>\n                      </>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            </motion.div>\n          ) : (\n            <motion.div\n              key=\"results\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n              className=\"space-y-6\"\n            >\n              {/* Summary Header */}\n              <Card>\n                <CardContent className=\"flex flex-wrap items-center justify-between gap-4 p-6\">\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"flex h-14 w-14 items-center justify-center rounded-lg bg-primary/10\">\n                      <FileArchive className=\"h-7 w-7 text-primary\" />\n                    </div>\n                    <div>\n                      <h2 className=\"text-xl font-semibold\">{result.name}</h2>\n                      <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                        <Badge variant=\"outline\">{result.type}</Badge>\n                        <span>v{result.version}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <Button variant=\"outline\" onClick={resetAnalysis}>\n                      <RefreshCw className=\"mr-2 h-4 w-4\" />\n                      New Analysis\n                    </Button>\n                    <Button data-testid=\"button-download-report\">\n                      <Download className=\"mr-2 h-4 w-4\" />\n                      {t(\"wp.downloadReport\")}\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* Score Cards */}\n              <div className=\"grid gap-4 sm:grid-cols-3\">\n                {[\n                  { key: \"security\", icon: Shield, label: t(\"wp.security\"), data: result.security },\n                  { key: \"performance\", icon: Zap, label: t(\"wp.performance\"), data: result.performance },\n                  { key: \"codeQuality\", icon: Code2, label: t(\"wp.codeQuality\"), data: result.codeQuality },\n                ].map(({ key, icon: Icon, label, data }) => (\n                  <Card key={key} data-testid={`card-score-${key}`}>\n                    <CardContent className=\"p-6\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-3\">\n                          <div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10\">\n                            <Icon className=\"h-5 w-5 text-primary\" />\n                          </div>\n                          <span className=\"font-medium\">{label}</span>\n                        </div>\n                        <span className={`text-2xl font-bold ${getScoreColor(data.score)}`}>\n                          {data.score}%\n                        </span>\n                      </div>\n                      <Progress value={data.score} className=\"mt-4 h-2\" />\n                      <p className=\"mt-2 text-sm text-muted-foreground\">\n                        {data.issues.length} {t(\"wp.issues\").toLowerCase()}\n                      </p>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n\n              {/* Issues List */}\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <AlertTriangle className=\"h-5 w-5 text-yellow-500\" />\n                    {t(\"wp.issues\")}\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <ScrollArea className=\"h-[400px] pr-4\">\n                    <Accordion type=\"multiple\" className=\"space-y-2\">\n                      {[...result.security.issues, ...result.performance.issues, ...result.codeQuality.issues].map(\n                        (issue) => {\n                          const SeverityIcon = getSeverityIcon(issue.severity);\n                          return (\n                            <AccordionItem\n                              key={issue.id}\n                              value={issue.id}\n                              className=\"rounded-lg border px-4\"\n                              data-testid={`issue-${issue.id}`}\n                            >\n                              <AccordionTrigger className=\"py-4 hover:no-underline\">\n                                <div className=\"flex items-center gap-3\">\n                                  <Badge className={`${getSeverityColor(issue.severity)} text-white`}>\n                                    <SeverityIcon className=\"mr-1 h-3 w-3\" />\n                                    {t(`wp.${issue.severity}`)}\n                                  </Badge>\n                                  <span className=\"text-left font-medium\">{issue.title}</span>\n                                </div>\n                              </AccordionTrigger>\n                              <AccordionContent className=\"pb-4\">\n                                <div className=\"space-y-3\">\n                                  <p className=\"text-sm text-muted-foreground\">{issue.description}</p>\n                                  \n                                  {issue.file && (\n                                    <div className=\"text-sm\">\n                                      <span className=\"font-medium\">File: </span>\n                                      <code className=\"rounded bg-muted px-2 py-0.5\">{issue.file}</code>\n                                      {issue.line && (\n                                        <span className=\"text-muted-foreground\"> (Line {issue.line})</span>\n                                      )}\n                                    </div>\n                                  )}\n                                  \n                                  {issue.code && (\n                                    <div className=\"space-y-1\">\n                                      <p className=\"text-sm font-medium text-destructive\">Problematic code:</p>\n                                      <pre className=\"overflow-x-auto rounded-lg bg-card p-3 text-sm\">\n                                        <code>{issue.code}</code>\n                                      </pre>\n                                    </div>\n                                  )}\n                                  \n                                  {issue.fix && (\n                                    <div className=\"space-y-1\">\n                                      <p className=\"text-sm font-medium text-green-500\">Suggested fix:</p>\n                                      <pre className=\"overflow-x-auto rounded-lg bg-card p-3 text-sm\">\n                                        <code>{issue.fix}</code>\n                                      </pre>\n                                    </div>\n                                  )}\n                                </div>\n                              </AccordionContent>\n                            </AccordionItem>\n                          );\n                        }\n                      )}\n                    </Accordion>\n                  </ScrollArea>\n                </CardContent>\n              </Card>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </motion.div>\n    </div>\n  );\n}\n","path":null,"size_bytes":16691,"size_tokens":null},"server/vite.ts":{"content":"import { type Express } from \"express\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport async function setupVite(server: Server, app: Express) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server, path: \"/vite-hmr\" },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n","path":null,"size_bytes":1534,"size_tokens":null},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","path":null,"size_bytes":1527,"size_tokens":null},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","path":null,"size_bytes":329,"size_tokens":null},"client/src/pages/Wallet.tsx":{"content":"import { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport {\n  Wallet as WalletIcon,\n  Plus,\n  ArrowUpRight,\n  ArrowDownLeft,\n  CreditCard,\n  DollarSign,\n  Clock,\n  TrendingUp,\n  Loader2,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { useLanguage } from \"@/contexts/LanguageContext\";\n\ninterface Transaction {\n  id: string;\n  type: \"deposit\" | \"usage\" | \"refund\";\n  amount: number;\n  description: string;\n  createdAt: Date;\n}\n\n// Mock data\nconst mockBalance = 24.50;\nconst mockTransactions: Transaction[] = [\n  { id: \"1\", type: \"deposit\", amount: 50.00, description: \"Added funds via Stripe\", createdAt: new Date(\"2024-01-15\") },\n  { id: \"2\", type: \"usage\", amount: -0.04, description: \"DALL-E 3 image generation\", createdAt: new Date(\"2024-01-15\") },\n  { id: \"3\", type: \"usage\", amount: -0.02, description: \"GPT-4o chat message\", createdAt: new Date(\"2024-01-14\") },\n  { id: \"4\", type: \"usage\", amount: -0.15, description: \"Bulk code analysis\", createdAt: new Date(\"2024-01-14\") },\n  { id: \"5\", type: \"refund\", amount: 5.00, description: \"Service credit\", createdAt: new Date(\"2024-01-10\") },\n];\n\nconst predefinedAmounts = [10, 25, 50, 100];\n\nexport default function Wallet() {\n  const { t } = useLanguage();\n  const [balance] = useState(mockBalance);\n  const [transactions] = useState(mockTransactions);\n  const [addAmount, setAddAmount] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [dialogOpen, setDialogOpen] = useState(false);\n\n  const handleAddFunds = async () => {\n    if (!addAmount || isLoading) return;\n\n    setIsLoading(true);\n    // Simulate Stripe checkout (will be replaced with real API)\n    await new Promise((resolve) => setTimeout(resolve, 1500));\n    setIsLoading(false);\n    setDialogOpen(false);\n    setAddAmount(\"\");\n  };\n\n  const getTransactionIcon = (type: string) => {\n    switch (type) {\n      case \"deposit\":\n        return <ArrowDownLeft className=\"h-4 w-4 text-green-500\" />;\n      case \"usage\":\n        return <ArrowUpRight className=\"h-4 w-4 text-red-500\" />;\n      case \"refund\":\n        return <ArrowDownLeft className=\"h-4 w-4 text-blue-500\" />;\n      default:\n        return <DollarSign className=\"h-4 w-4\" />;\n    }\n  };\n\n  const formatDate = (date: Date) => {\n    return new Intl.DateTimeFormat(\"en-US\", {\n      month: \"short\",\n      day: \"numeric\",\n      year: \"numeric\",\n    }).format(date);\n  };\n\n  const totalSpent = transactions\n    .filter((t) => t.type === \"usage\")\n    .reduce((sum, t) => sum + Math.abs(t.amount), 0);\n\n  const totalDeposited = transactions\n    .filter((t) => t.type === \"deposit\")\n    .reduce((sum, t) => sum + t.amount, 0);\n\n  return (\n    <div className=\"min-h-full p-4 sm:p-6 lg:p-8\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"mx-auto max-w-4xl space-y-6\"\n      >\n        {/* Header */}\n        <div>\n          <h1 className=\"text-2xl font-bold sm:text-3xl\">{t(\"nav.wallet\")}</h1>\n          <p className=\"text-muted-foreground\">Manage your pay-as-you-go balance</p>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid gap-4 sm:grid-cols-3\">\n          <Card className=\"col-span-1 sm:col-span-2\">\n            <CardContent className=\"flex items-center justify-between p-6\">\n              <div className=\"flex items-center gap-4\">\n                <div className=\"flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-primary to-blue-500\">\n                  <WalletIcon className=\"h-7 w-7 text-white\" />\n                </div>\n                <div>\n                  <p className=\"text-sm text-muted-foreground\">{t(\"wallet.balance\")}</p>\n                  <p className=\"text-3xl font-bold\">${balance.toFixed(2)}</p>\n                </div>\n              </div>\n\n              <Dialog open={dialogOpen} onOpenChange={setDialogOpen}>\n                <DialogTrigger asChild>\n                  <Button className=\"gap-2\" data-testid=\"button-add-funds\">\n                    <Plus className=\"h-4 w-4\" />\n                    {t(\"wallet.addFunds\")}\n                  </Button>\n                </DialogTrigger>\n                <DialogContent>\n                  <DialogHeader>\n                    <DialogTitle className=\"flex items-center gap-2\">\n                      <CreditCard className=\"h-5 w-5\" />\n                      {t(\"wallet.addFunds\")}\n                    </DialogTitle>\n                  </DialogHeader>\n                  <div className=\"space-y-4 py-4\">\n                    {/* Predefined amounts */}\n                    <div className=\"flex flex-wrap gap-2\">\n                      {predefinedAmounts.map((amount) => (\n                        <Button\n                          key={amount}\n                          variant={addAmount === amount.toString() ? \"default\" : \"outline\"}\n                          onClick={() => setAddAmount(amount.toString())}\n                          data-testid={`amount-${amount}`}\n                        >\n                          ${amount}\n                        </Button>\n                      ))}\n                    </div>\n\n                    {/* Custom amount */}\n                    <div className=\"relative\">\n                      <DollarSign className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n                      <Input\n                        type=\"number\"\n                        placeholder=\"Custom amount\"\n                        value={addAmount}\n                        onChange={(e) => setAddAmount(e.target.value)}\n                        className=\"pl-9\"\n                        min=\"1\"\n                        data-testid=\"input-custom-amount\"\n                      />\n                    </div>\n\n                    <p className=\"text-sm text-muted-foreground\">\n                      Payments are processed securely via Stripe. Funds never expire.\n                    </p>\n                  </div>\n                  <DialogFooter>\n                    <Button variant=\"outline\" onClick={() => setDialogOpen(false)}>\n                      {t(\"common.cancel\")}\n                    </Button>\n                    <Button\n                      onClick={handleAddFunds}\n                      disabled={!addAmount || Number(addAmount) <= 0 || isLoading}\n                      className=\"gap-2\"\n                      data-testid=\"button-confirm-payment\"\n                    >\n                      {isLoading ? (\n                        <>\n                          <Loader2 className=\"h-4 w-4 animate-spin\" />\n                          Processing...\n                        </>\n                      ) : (\n                        <>\n                          <CreditCard className=\"h-4 w-4\" />\n                          Pay ${addAmount || \"0\"}\n                        </>\n                      )}\n                    </Button>\n                  </DialogFooter>\n                </DialogContent>\n              </Dialog>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardContent className=\"flex flex-col justify-center p-6\">\n              <div className=\"flex items-center gap-2 text-muted-foreground\">\n                <TrendingUp className=\"h-4 w-4\" />\n                <span className=\"text-sm\">Total Spent</span>\n              </div>\n              <p className=\"text-2xl font-bold text-destructive\">${totalSpent.toFixed(2)}</p>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Pricing Info */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Pricing</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-4\">\n              {[\n                { model: \"GPT-4o\", cost: \"$0.002\", unit: \"per message\", free: false },\n                { model: \"DALL-E 3\", cost: \"$0.04\", unit: \"per image\", free: false },\n                { model: \"Gemini\", cost: \"Free\", unit: \"1,500/day\", free: true },\n                { model: \"Claude\", cost: \"Free\", unit: \"1,000/day\", free: true },\n              ].map((item, index) => (\n                <div\n                  key={index}\n                  className=\"flex items-center justify-between rounded-lg border p-4\"\n                  data-testid={`pricing-${item.model.toLowerCase().replace(\" \", \"-\")}`}\n                >\n                  <div>\n                    <p className=\"font-medium\">{item.model}</p>\n                    <p className=\"text-sm text-muted-foreground\">{item.unit}</p>\n                  </div>\n                  <Badge variant={item.free ? \"secondary\" : \"outline\"}>\n                    {item.cost}\n                  </Badge>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Transaction History */}\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between gap-2\">\n            <CardTitle className=\"flex items-center gap-2\">\n              <Clock className=\"h-5 w-5\" />\n              {t(\"wallet.history\")}\n            </CardTitle>\n            <Badge variant=\"secondary\">{transactions.length} transactions</Badge>\n          </CardHeader>\n          <CardContent>\n            <ScrollArea className=\"h-[400px] pr-4\">\n              <div className=\"space-y-3\">\n                {transactions.map((transaction) => (\n                  <div\n                    key={transaction.id}\n                    className=\"flex items-center justify-between rounded-lg border p-4\"\n                    data-testid={`transaction-${transaction.id}`}\n                  >\n                    <div className=\"flex items-center gap-4\">\n                      <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-muted\">\n                        {getTransactionIcon(transaction.type)}\n                      </div>\n                      <div>\n                        <p className=\"font-medium\">{transaction.description}</p>\n                        <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            {t(`wallet.${transaction.type}`)}\n                          </Badge>\n                          <span>{formatDate(transaction.createdAt)}</span>\n                        </div>\n                      </div>\n                    </div>\n                    <p\n                      className={`text-lg font-semibold ${\n                        transaction.amount > 0 ? \"text-green-500\" : \"text-red-500\"\n                      }`}\n                    >\n                      {transaction.amount > 0 ? \"+\" : \"\"}${transaction.amount.toFixed(2)}\n                    </p>\n                  </div>\n                ))}\n              </div>\n            </ScrollArea>\n          </CardContent>\n        </Card>\n      </motion.div>\n    </div>\n  );\n}\n","path":null,"size_bytes":11242,"size_tokens":null},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","path":null,"size_bytes":1584,"size_tokens":null},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","path":null,"size_bytes":689,"size_tokens":null},"server/storage.ts":{"content":"import { eq, and, desc } from \"drizzle-orm\";\nimport { db } from \"./db\";\nimport {\n  users,\n  conversations,\n  messages,\n  apiQuotas,\n  wpProjects,\n  wpIssues,\n  generatedImages,\n  elementorTemplates,\n  walletTransactions,\n  type User,\n  type UpsertUser,\n  type Conversation,\n  type InsertConversation,\n  type Message,\n  type InsertMessage,\n  type ApiQuota,\n  type InsertApiQuota,\n  type WpProject,\n  type InsertWpProject,\n  type WpIssue,\n  type InsertWpIssue,\n  type GeneratedImage,\n  type InsertGeneratedImage,\n  type ElementorTemplate,\n  type InsertElementorTemplate,\n  type WalletTransaction,\n  type InsertWalletTransaction,\n} from \"@shared/schema\";\n\nexport interface IStorage {\n  // Users\n  getUser(id: string): Promise<User | undefined>;\n  getUserByEmail(email: string): Promise<User | undefined>;\n  upsertUser(user: UpsertUser): Promise<User>;\n  updateUser(id: string, data: Partial<User>): Promise<User | undefined>;\n\n  // Conversations\n  getConversation(id: string): Promise<Conversation | undefined>;\n  getConversationsByUser(userId: string): Promise<Conversation[]>;\n  createConversation(data: InsertConversation): Promise<Conversation>;\n  updateConversation(id: string, data: Partial<Conversation>): Promise<Conversation | undefined>;\n  updateConversationTitle(id: string, title: string): Promise<Conversation | undefined>;\n  deleteConversation(id: string): Promise<void>;\n\n  // Messages\n  getMessage(id: string): Promise<Message | undefined>;\n  getMessagesByConversation(conversationId: string): Promise<Message[]>;\n  createMessage(data: InsertMessage): Promise<Message>;\n\n  // API Quotas\n  getApiQuotas(userId: string): Promise<ApiQuota[]>;\n  upsertApiQuota(data: InsertApiQuota): Promise<ApiQuota>;\n  resetDailyQuotas(): Promise<void>;\n\n  // WP Projects\n  getWpProject(id: string): Promise<WpProject | undefined>;\n  getWpProjectsByUser(userId: string): Promise<WpProject[]>;\n  createWpProject(data: InsertWpProject): Promise<WpProject>;\n\n  // WP Issues\n  getWpIssuesByProject(projectId: string): Promise<WpIssue[]>;\n  createWpIssue(data: InsertWpIssue): Promise<WpIssue>;\n\n  // Generated Images\n  getGeneratedImage(id: string): Promise<GeneratedImage | undefined>;\n  getGeneratedImagesByUser(userId: string): Promise<GeneratedImage[]>;\n  createGeneratedImage(data: InsertGeneratedImage): Promise<GeneratedImage>;\n  deleteGeneratedImage(id: string): Promise<void>;\n\n  // Elementor Templates\n  getElementorTemplate(id: string): Promise<ElementorTemplate | undefined>;\n  getElementorTemplatesByUser(userId: string): Promise<ElementorTemplate[]>;\n  createElementorTemplate(data: InsertElementorTemplate): Promise<ElementorTemplate>;\n  deleteElementorTemplate(id: string): Promise<void>;\n\n  // Wallet Transactions\n  getWalletTransactionsByUser(userId: string): Promise<WalletTransaction[]>;\n  createWalletTransaction(data: InsertWalletTransaction): Promise<WalletTransaction>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  // Users\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id)).limit(1);\n    return user;\n  }\n\n  async getUserByEmail(email: string): Promise<User | undefined> {\n    if (!email) return undefined;\n    const [user] = await db.select().from(users).where(eq(users.email, email)).limit(1);\n    return user;\n  }\n\n  async upsertUser(userData: UpsertUser): Promise<User> {\n    const [user] = await db\n      .insert(users)\n      .values(userData)\n      .onConflictDoUpdate({\n        target: users.id,\n        set: {\n          email: userData.email,\n          firstName: userData.firstName,\n          lastName: userData.lastName,\n          profileImageUrl: userData.profileImageUrl,\n          updatedAt: new Date(),\n        },\n      })\n      .returning();\n    return user;\n  }\n\n  async updateUser(id: string, data: Partial<User>): Promise<User | undefined> {\n    const [user] = await db\n      .update(users)\n      .set({ ...data, updatedAt: new Date() })\n      .where(eq(users.id, id))\n      .returning();\n    return user;\n  }\n\n  // Conversations\n  async getConversation(id: string): Promise<Conversation | undefined> {\n    const [conv] = await db.select().from(conversations).where(eq(conversations.id, id)).limit(1);\n    return conv;\n  }\n\n  async getConversationsByUser(userId: string): Promise<Conversation[]> {\n    return db\n      .select()\n      .from(conversations)\n      .where(eq(conversations.userId, userId))\n      .orderBy(desc(conversations.updatedAt));\n  }\n\n  async createConversation(data: InsertConversation): Promise<Conversation> {\n    const [conv] = await db.insert(conversations).values(data).returning();\n    return conv;\n  }\n\n  async updateConversation(id: string, data: Partial<Conversation>): Promise<Conversation | undefined> {\n    const [conv] = await db\n      .update(conversations)\n      .set({ ...data, updatedAt: new Date() })\n      .where(eq(conversations.id, id))\n      .returning();\n    return conv;\n  }\n\n  async updateConversationTitle(id: string, title: string): Promise<Conversation | undefined> {\n    return this.updateConversation(id, { title });\n  }\n\n  async deleteConversation(id: string): Promise<void> {\n    await db.delete(conversations).where(eq(conversations.id, id));\n  }\n\n  // Messages\n  async getMessage(id: string): Promise<Message | undefined> {\n    const [msg] = await db.select().from(messages).where(eq(messages.id, id)).limit(1);\n    return msg;\n  }\n\n  async getMessagesByConversation(conversationId: string): Promise<Message[]> {\n    return db\n      .select()\n      .from(messages)\n      .where(eq(messages.conversationId, conversationId))\n      .orderBy(messages.createdAt);\n  }\n\n  async createMessage(data: InsertMessage): Promise<Message> {\n    const [msg] = await db.insert(messages).values(data).returning();\n    // Update conversation timestamp\n    await db\n      .update(conversations)\n      .set({ updatedAt: new Date() })\n      .where(eq(conversations.id, data.conversationId));\n    return msg;\n  }\n\n  // API Quotas\n  async getApiQuotas(userId: string): Promise<ApiQuota[]> {\n    return db.select().from(apiQuotas).where(eq(apiQuotas.userId, userId));\n  }\n\n  async upsertApiQuota(data: InsertApiQuota): Promise<ApiQuota> {\n    const [quota] = await db\n      .insert(apiQuotas)\n      .values(data)\n      .onConflictDoUpdate({\n        target: [apiQuotas.userId, apiQuotas.provider],\n        set: {\n          usedToday: data.usedToday,\n          dailyLimit: data.dailyLimit,\n        },\n      })\n      .returning();\n    return quota;\n  }\n\n  async resetDailyQuotas(): Promise<void> {\n    await db.update(apiQuotas).set({ usedToday: 0, lastResetAt: new Date() });\n  }\n\n  // WP Projects\n  async getWpProject(id: string): Promise<WpProject | undefined> {\n    const [project] = await db.select().from(wpProjects).where(eq(wpProjects.id, id)).limit(1);\n    return project;\n  }\n\n  async getWpProjectsByUser(userId: string): Promise<WpProject[]> {\n    return db\n      .select()\n      .from(wpProjects)\n      .where(eq(wpProjects.userId, userId))\n      .orderBy(desc(wpProjects.createdAt));\n  }\n\n  async createWpProject(data: InsertWpProject): Promise<WpProject> {\n    const [project] = await db.insert(wpProjects).values(data).returning();\n    return project;\n  }\n\n  // WP Issues\n  async getWpIssuesByProject(projectId: string): Promise<WpIssue[]> {\n    return db.select().from(wpIssues).where(eq(wpIssues.projectId, projectId));\n  }\n\n  async createWpIssue(data: InsertWpIssue): Promise<WpIssue> {\n    const [issue] = await db.insert(wpIssues).values(data).returning();\n    return issue;\n  }\n\n  // Generated Images\n  async getGeneratedImage(id: string): Promise<GeneratedImage | undefined> {\n    const [img] = await db.select().from(generatedImages).where(eq(generatedImages.id, id)).limit(1);\n    return img;\n  }\n\n  async getGeneratedImagesByUser(userId: string): Promise<GeneratedImage[]> {\n    return db\n      .select()\n      .from(generatedImages)\n      .where(eq(generatedImages.userId, userId))\n      .orderBy(desc(generatedImages.createdAt));\n  }\n\n  async createGeneratedImage(data: InsertGeneratedImage): Promise<GeneratedImage> {\n    const [img] = await db.insert(generatedImages).values(data).returning();\n    return img;\n  }\n\n  async deleteGeneratedImage(id: string): Promise<void> {\n    await db.delete(generatedImages).where(eq(generatedImages.id, id));\n  }\n\n  // Elementor Templates\n  async getElementorTemplate(id: string): Promise<ElementorTemplate | undefined> {\n    const [tpl] = await db.select().from(elementorTemplates).where(eq(elementorTemplates.id, id)).limit(1);\n    return tpl;\n  }\n\n  async getElementorTemplatesByUser(userId: string): Promise<ElementorTemplate[]> {\n    return db\n      .select()\n      .from(elementorTemplates)\n      .where(eq(elementorTemplates.userId, userId))\n      .orderBy(desc(elementorTemplates.createdAt));\n  }\n\n  async createElementorTemplate(data: InsertElementorTemplate): Promise<ElementorTemplate> {\n    const [tpl] = await db.insert(elementorTemplates).values(data).returning();\n    return tpl;\n  }\n\n  async deleteElementorTemplate(id: string): Promise<void> {\n    await db.delete(elementorTemplates).where(eq(elementorTemplates.id, id));\n  }\n\n  // Wallet Transactions\n  async getWalletTransactionsByUser(userId: string): Promise<WalletTransaction[]> {\n    return db\n      .select()\n      .from(walletTransactions)\n      .where(eq(walletTransactions.userId, userId))\n      .orderBy(desc(walletTransactions.createdAt));\n  }\n\n  async createWalletTransaction(data: InsertWalletTransaction): Promise<WalletTransaction> {\n    const [tx] = await db.insert(walletTransactions).values(data).returning();\n    return tx;\n  }\n}\n\nexport const storage = new DatabaseStorage();\n","path":null,"size_bytes":9680,"size_tokens":null},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","path":null,"size_bytes":1280,"size_tokens":null},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","path":null,"size_bytes":2359,"size_tokens":null},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","path":null,"size_bytes":1080,"size_tokens":null},"client/src/pages/Dashboard.tsx":{"content":"import { Link } from \"wouter\";\nimport { motion } from \"framer-motion\";\nimport {\n  MessageSquare,\n  Shield,\n  Code2,\n  ImagePlus,\n  LayoutGrid,\n  TrendingUp,\n  Zap,\n  Clock,\n  ArrowRight,\n  Plus,\n} from \"lucide-react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useLanguage } from \"@/contexts/LanguageContext\";\nimport { useAuth } from \"@/hooks/useAuth\";\n\nconst container = {\n  hidden: { opacity: 0 },\n  show: {\n    opacity: 1,\n    transition: { staggerChildren: 0.1 },\n  },\n};\n\nconst item = {\n  hidden: { opacity: 0, y: 20 },\n  show: { opacity: 1, y: 0 },\n};\n\n// Mock data - will be replaced with real API data\nconst mockQuotas = [\n  { name: \"Gemini\", provider: \"gemini\", used: 450, limit: 1500, color: \"bg-blue-500\", isFree: true },\n  { name: \"Claude\", provider: \"claude\", used: 200, limit: 1000, color: \"bg-purple-500\", isFree: true },\n  { name: \"Groq\", provider: \"groq\", used: 0, limit: 10000, color: \"bg-orange-500\", isFree: true },\n  { name: \"OpenAI\", provider: \"openai\", used: 50, limit: 100, color: \"bg-green-500\", isFree: false },\n];\n\nconst mockRecentChats = [\n  { id: \"1\", title: \"WordPress Security Analysis\", model: \"Gemini\", time: \"2 hours ago\" },\n  { id: \"2\", title: \"Plugin Performance Fix\", model: \"Claude\", time: \"5 hours ago\" },\n  { id: \"3\", title: \"Elementor Template Design\", model: \"GPT-4o\", time: \"1 day ago\" },\n];\n\nexport default function Dashboard() {\n  const { t, isRTL } = useLanguage();\n  const { user } = useAuth();\n\n  const quickActions = [\n    { icon: MessageSquare, label: t(\"nav.chat\"), href: \"/chat\", color: \"from-blue-500 to-cyan-500\" },\n    { icon: Shield, label: t(\"nav.wpDoctor\"), href: \"/wordpress-doctor\", color: \"from-green-500 to-emerald-500\" },\n    { icon: Code2, label: t(\"nav.ide\"), href: \"/ide\", color: \"from-purple-500 to-pink-500\" },\n    { icon: ImagePlus, label: t(\"nav.imageAi\"), href: \"/image-ai\", color: \"from-orange-500 to-red-500\" },\n    { icon: LayoutGrid, label: t(\"nav.elementor\"), href: \"/elementor\", color: \"from-indigo-500 to-blue-500\" },\n  ];\n\n  return (\n    <div className=\"min-h-full p-4 sm:p-6 lg:p-8\">\n      <motion.div\n        variants={container}\n        initial=\"hidden\"\n        animate=\"show\"\n        className=\"space-y-6\"\n      >\n        {/* Welcome Header */}\n        <motion.div variants={item}>\n          <h1 className=\"text-2xl font-bold sm:text-3xl\">\n            {t(\"dashboard.welcome\")}, {user?.firstName || \"User\"}!\n          </h1>\n          <p className=\"text-muted-foreground\">\n            {t(\"landing.subtitle\")}\n          </p>\n        </motion.div>\n\n        {/* Stats Cards */}\n        <motion.div variants={item} className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-4\">\n          <Card>\n            <CardContent className=\"flex items-center gap-4 p-6\">\n              <div className=\"flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-cyan-500\">\n                <Zap className=\"h-6 w-6 text-white\" />\n              </div>\n              <div>\n                <p className=\"text-sm text-muted-foreground\">{t(\"dashboard.requestsToday\")}</p>\n                <p className=\"text-2xl font-bold\">127</p>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardContent className=\"flex items-center gap-4 p-6\">\n              <div className=\"flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-to-br from-green-500 to-emerald-500\">\n                <TrendingUp className=\"h-6 w-6 text-white\" />\n              </div>\n              <div>\n                <p className=\"text-sm text-muted-foreground\">{t(\"dashboard.costSaved\")}</p>\n                <p className=\"text-2xl font-bold\">$24.50</p>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardContent className=\"flex items-center gap-4 p-6\">\n              <div className=\"flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-to-br from-purple-500 to-pink-500\">\n                <MessageSquare className=\"h-6 w-6 text-white\" />\n              </div>\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Active Chats</p>\n                <p className=\"text-2xl font-bold\">5</p>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardContent className=\"flex items-center gap-4 p-6\">\n              <div className=\"flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-to-br from-orange-500 to-red-500\">\n                <Shield className=\"h-6 w-6 text-white\" />\n              </div>\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Projects Analyzed</p>\n                <p className=\"text-2xl font-bold\">12</p>\n              </div>\n            </CardContent>\n          </Card>\n        </motion.div>\n\n        {/* Main Content Grid */}\n        <div className=\"grid gap-6 lg:grid-cols-3\">\n          {/* Quick Actions */}\n          <motion.div variants={item} className=\"lg:col-span-2\">\n            <Card>\n              <CardHeader>\n                <CardTitle>{t(\"dashboard.quickActions\")}</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid gap-3 sm:grid-cols-2 lg:grid-cols-3\">\n                  {quickActions.map((action, index) => (\n                    <Link key={index} href={action.href}>\n                      <Button\n                        variant=\"outline\"\n                        className=\"h-auto w-full flex-col gap-2 p-4 hover-elevate\"\n                        data-testid={`quick-action-${action.href.replace(\"/\", \"\")}`}\n                      >\n                        <div className={`flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br ${action.color}`}>\n                          <action.icon className=\"h-5 w-5 text-white\" />\n                        </div>\n                        <span className=\"text-sm font-medium\">{action.label}</span>\n                      </Button>\n                    </Link>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </motion.div>\n\n          {/* Quota Status */}\n          <motion.div variants={item}>\n            <Card className=\"h-full\">\n              <CardHeader className=\"flex flex-row items-center justify-between gap-2\">\n                <CardTitle className=\"text-base\">{t(\"dashboard.quotaStatus\")}</CardTitle>\n                <Badge variant=\"secondary\">{t(\"quota.free\")}</Badge>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                {mockQuotas.map((quota) => {\n                  const percentage = (quota.used / quota.limit) * 100;\n                  const remaining = quota.limit - quota.used;\n                  const isLow = percentage > 80;\n                  \n                  return (\n                    <div key={quota.name} className=\"space-y-2\">\n                      <div className=\"flex items-center justify-between text-sm\">\n                        <div className=\"flex items-center gap-2\">\n                          <div className={`h-2 w-2 rounded-full ${quota.color}`} />\n                          <span className=\"font-medium\">{quota.name}</span>\n                          {quota.isFree && (\n                            <Badge variant=\"outline\" className=\"px-1 py-0 text-xs\">\n                              Free\n                            </Badge>\n                          )}\n                        </div>\n                        <span className={isLow ? \"text-destructive\" : \"text-muted-foreground\"}>\n                          {remaining.toLocaleString()} {t(\"quota.remaining\")}\n                        </span>\n                      </div>\n                      <Progress \n                        value={percentage} \n                        className={`h-2 ${isLow ? \"[&>div]:bg-destructive\" : \"\"}`}\n                        data-testid={`quota-${quota.provider}`}\n                      />\n                    </div>\n                  );\n                })}\n              </CardContent>\n            </Card>\n          </motion.div>\n        </div>\n\n        {/* Recent Chats */}\n        <motion.div variants={item}>\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between gap-2\">\n              <CardTitle>{t(\"dashboard.recentChats\")}</CardTitle>\n              <Link href=\"/chat\">\n                <Button variant=\"ghost\" size=\"sm\" className=\"gap-1\">\n                  <Plus className=\"h-4 w-4\" />\n                  {t(\"chat.newChat\")}\n                </Button>\n              </Link>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-3\">\n                {mockRecentChats.map((chat) => (\n                  <Link key={chat.id} href={`/chat/${chat.id}`}>\n                    <div className=\"flex items-center justify-between rounded-lg border border-border p-4 hover-elevate\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10\">\n                          <MessageSquare className=\"h-5 w-5 text-primary\" />\n                        </div>\n                        <div>\n                          <p className=\"font-medium\">{chat.title}</p>\n                          <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                            <Badge variant=\"outline\" className=\"px-1 py-0 text-xs\">\n                              {chat.model}\n                            </Badge>\n                            <span className=\"flex items-center gap-1\">\n                              <Clock className=\"h-3 w-3\" />\n                              {chat.time}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                      <ArrowRight className={`h-4 w-4 text-muted-foreground ${isRTL ? \"rotate-180\" : \"\"}`} />\n                    </div>\n                  </Link>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        </motion.div>\n      </motion.div>\n    </div>\n  );\n}\n","path":null,"size_bytes":10320,"size_tokens":null},"docs/TODO.md":{"content":"# Remon Romany Genius - Todo List\n\n## Project Overview\nAI-powered WordPress development platform with 50+ models, smart quota management, multi-language support (5 languages with RTL), and generous unlimited free accounts strategy.\n\n---\n\n## Phase 1: MVP Features (Current Sprint)\n\n###  Infrastructure\n- [x] Project setup (React + Express + TypeScript)\n- [x] PostgreSQL database\n- [x] Design guidelines\n- [ ] i18n setup (5 languages)\n- [ ] Replit Auth integration\n- [ ] Database schema\n\n###  Core Features\n\n#### Authentication & Users\n- [ ] Replit Auth integration\n- [ ] User sessions table\n- [ ] User preferences storage\n- [ ] Multi-device support\n\n#### Smart Quota Manager\n- [ ] Quota tracking per provider\n- [ ] Auto-switching between providers\n- [ ] Real-time progress bars\n- [ ] Daily reset logic\n\n#### AI Chat Interface\n- [ ] Message streaming (SSE)\n- [ ] Code syntax highlighting\n- [ ] Model selector\n- [ ] Chat history persistence\n\n#### Multi-language Support\n- [ ] Arabic (RTL)\n- [ ] English\n- [ ] German\n- [ ] French\n- [ ] Spanish\n- [ ] Auto-detection\n\n#### WordPress Doctor\n- [ ] ZIP file upload\n- [ ] Theme/Plugin detection\n- [ ] Security analysis\n- [ ] Performance analysis\n- [ ] Code quality analysis\n- [ ] Results dashboard\n\n#### IDE Mode\n- [ ] Monaco Editor integration\n- [ ] File tree navigation\n- [ ] AI code completion\n- [ ] Multiple tabs\n\n#### Image AI\n- [ ] DALL-E 3 integration\n- [ ] Stable Diffusion integration\n- [ ] Image gallery\n- [ ] Download functionality\n\n#### Elementor Generator\n- [ ] Template generation from prompts\n- [ ] Widget library support\n- [ ] JSON export\n- [ ] Live preview\n\n#### Payment System\n- [ ] Stripe integration\n- [ ] Wallet system\n- [ ] Cost display per request\n- [ ] Transaction history\n\n#### UI/UX\n- [ ] Dark/Light theme toggle\n- [ ] Navy blue glassmorphism\n- [ ] Toast notifications\n- [ ] Responsive design\n\n---\n\n## Phase 2: Next Features (Future Sprint)\n\n- [ ] Video AI Studio\n- [ ] 50+ AI Models integration\n- [ ] AI Designer System\n- [ ] Real-time Collaboration\n- [ ] Built-in Hosting\n- [ ] AI Project Manager\n- [ ] Advanced Image Editing\n- [ ] Text-to-Video\n- [ ] AI Avatar Generation\n- [ ] Persistent Memory System\n\n---\n\n## Technical Stack\n\n### Frontend\n- React 18 + TypeScript\n- Tailwind CSS + Shadcn UI\n- Monaco Editor\n- i18next\n- Framer Motion\n- TanStack Query\n\n### Backend\n- Express.js + TypeScript\n- PostgreSQL + Drizzle ORM\n- OpenAI/Anthropic/Gemini APIs\n- Stripe API\n\n### Infrastructure\n- Replit Hosting\n- Replit Auth (OIDC)\n- PostgreSQL (Neon)\n","path":null,"size_bytes":2516,"size_tokens":null},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","path":null,"size_bytes":157,"size_tokens":null},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","path":null,"size_bytes":1383,"size_tokens":null},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","path":null,"size_bytes":1642,"size_tokens":null},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","path":null,"size_bytes":2765,"size_tokens":null},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { serveStatic } from \"./static\";\nimport { createServer } from \"http\";\n\nconst app = express();\nconst httpServer = createServer(app);\n\ndeclare module \"http\" {\n  interface IncomingMessage {\n    rawBody: unknown;\n  }\n}\n\napp.use(\n  express.json({\n    verify: (req, _res, buf) => {\n      req.rawBody = buf;\n    },\n  }),\n);\n\napp.use(express.urlencoded({ extended: false }));\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  await registerRoutes(httpServer, app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (process.env.NODE_ENV === \"production\") {\n    serveStatic(app);\n  } else {\n    const { setupVite } = await import(\"./vite\");\n    await setupVite(httpServer, app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || \"5000\", 10);\n  httpServer.listen(\n    {\n      port,\n      host: \"0.0.0.0\",\n      reusePort: true,\n    },\n    () => {\n      log(`serving on port ${port}`);\n    },\n  );\n})();\n","path":null,"size_bytes":2560,"size_tokens":null},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","path":null,"size_bytes":5128,"size_tokens":null},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","path":null,"size_bytes":5741,"size_tokens":null},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","path":null,"size_bytes":565,"size_tokens":null},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","path":null,"size_bytes":1883,"size_tokens":null},"client/src/pages/Landing.tsx":{"content":"import { motion } from \"framer-motion\";\nimport { \n  MessageSquare, \n  Shield, \n  Code2, \n  ImagePlus, \n  LayoutGrid, \n  Zap,\n  ArrowRight,\n  Sparkles,\n  Globe,\n  Check,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useLanguage } from \"@/contexts/LanguageContext\";\n\nconst container = {\n  hidden: { opacity: 0 },\n  show: {\n    opacity: 1,\n    transition: { staggerChildren: 0.1 },\n  },\n};\n\nconst item = {\n  hidden: { opacity: 0, y: 20 },\n  show: { opacity: 1, y: 0 },\n};\n\nexport default function Landing() {\n  const { t, isRTL } = useLanguage();\n\n  const handleLogin = () => {\n    window.location.href = \"/api/login\";\n  };\n\n  const features = [\n    {\n      icon: MessageSquare,\n      title: t(\"feature.chat\"),\n      description: t(\"feature.chat.desc\"),\n      color: \"from-blue-500 to-cyan-500\",\n    },\n    {\n      icon: Shield,\n      title: t(\"feature.wpDoctor\"),\n      description: t(\"feature.wpDoctor.desc\"),\n      color: \"from-green-500 to-emerald-500\",\n    },\n    {\n      icon: Code2,\n      title: t(\"feature.ide\"),\n      description: t(\"feature.ide.desc\"),\n      color: \"from-purple-500 to-pink-500\",\n    },\n    {\n      icon: ImagePlus,\n      title: t(\"feature.imageAi\"),\n      description: t(\"feature.imageAi.desc\"),\n      color: \"from-orange-500 to-red-500\",\n    },\n    {\n      icon: LayoutGrid,\n      title: t(\"feature.elementor\"),\n      description: t(\"feature.elementor.desc\"),\n      color: \"from-indigo-500 to-blue-500\",\n    },\n    {\n      icon: Zap,\n      title: t(\"feature.quota\"),\n      description: t(\"feature.quota.desc\"),\n      color: \"from-yellow-500 to-orange-500\",\n    },\n  ];\n\n  const aiModels = [\n    \"GPT-4o\",\n    \"Claude 3.5\",\n    \"Gemini 2.0\",\n    \"Groq\",\n    \"DALL-E 3\",\n    \"Stable Diffusion\",\n  ];\n\n  const languages = [\"\", \"English\", \"Deutsch\", \"Franais\", \"Espaol\"];\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Hero Section */}\n      <section className=\"relative overflow-hidden\">\n        {/* Background gradient */}\n        <div className=\"absolute inset-0 bg-gradient-to-br from-primary/20 via-background to-background\" />\n        \n        {/* Animated background elements */}\n        <div className=\"absolute inset-0 overflow-hidden\">\n          <div className=\"absolute -top-40 -right-40 h-80 w-80 rounded-full bg-primary/10 blur-3xl\" />\n          <div className=\"absolute -bottom-40 -left-40 h-80 w-80 rounded-full bg-blue-500/10 blur-3xl\" />\n        </div>\n\n        <div className=\"relative mx-auto max-w-7xl px-4 py-24 sm:px-6 lg:px-8\">\n          <motion.div\n            initial={{ opacity: 0, y: 30 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6 }}\n            className=\"text-center\"\n          >\n            {/* Badge */}\n            <motion.div\n              initial={{ opacity: 0, scale: 0.9 }}\n              animate={{ opacity: 1, scale: 1 }}\n              transition={{ delay: 0.2 }}\n              className=\"mb-6 inline-flex\"\n            >\n              <Badge variant=\"secondary\" className=\"gap-2 px-4 py-2 text-sm\">\n                <Sparkles className=\"h-4 w-4\" />\n                50+ AI Models\n              </Badge>\n            </motion.div>\n\n            {/* Title */}\n            <h1 className=\"mb-6 text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl\">\n              <span className=\"bg-gradient-to-r from-primary via-blue-500 to-purple-500 bg-clip-text text-transparent\">\n                {t(\"landing.title\")}\n              </span>\n            </h1>\n\n            {/* Subtitle */}\n            <p className=\"mx-auto mb-8 max-w-2xl text-lg text-muted-foreground sm:text-xl\">\n              {t(\"landing.description\")}\n            </p>\n\n            {/* CTA Buttons */}\n            <motion.div\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.4 }}\n              className=\"flex flex-col items-center justify-center gap-4 sm:flex-row\"\n            >\n              <Button \n                size=\"lg\" \n                onClick={handleLogin}\n                className=\"gap-2 px-8\"\n                data-testid=\"button-cta-login\"\n              >\n                {t(\"landing.cta\")}\n                <ArrowRight className={`h-4 w-4 ${isRTL ? \"rotate-180\" : \"\"}`} />\n              </Button>\n              <Button variant=\"outline\" size=\"lg\" className=\"gap-2\">\n                <Globe className=\"h-4 w-4\" />\n                5 {t(\"settings.language\")}s\n              </Button>\n            </motion.div>\n\n            {/* AI Models badges */}\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.6 }}\n              className=\"mt-12 flex flex-wrap items-center justify-center gap-2\"\n            >\n              {aiModels.map((model) => (\n                <Badge key={model} variant=\"outline\" className=\"px-3 py-1\">\n                  {model}\n                </Badge>\n              ))}\n            </motion.div>\n          </motion.div>\n        </div>\n      </section>\n\n      {/* Features Section */}\n      <section className=\"py-20\">\n        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            viewport={{ once: true }}\n            className=\"mb-12 text-center\"\n          >\n            <h2 className=\"mb-4 text-3xl font-bold sm:text-4xl\">\n              {t(\"landing.features\")}\n            </h2>\n            <p className=\"mx-auto max-w-2xl text-muted-foreground\">\n              {t(\"landing.subtitle\")}\n            </p>\n          </motion.div>\n\n          <motion.div\n            variants={container}\n            initial=\"hidden\"\n            whileInView=\"show\"\n            viewport={{ once: true }}\n            className=\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3\"\n          >\n            {features.map((feature, index) => (\n              <motion.div key={index} variants={item}>\n                <Card className=\"group h-full overflow-visible hover-elevate\">\n                  <CardContent className=\"p-6\">\n                    <div\n                      className={`mb-4 inline-flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-to-br ${feature.color}`}\n                    >\n                      <feature.icon className=\"h-6 w-6 text-white\" />\n                    </div>\n                    <h3 className=\"mb-2 text-lg font-semibold\">{feature.title}</h3>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {feature.description}\n                    </p>\n                  </CardContent>\n                </Card>\n              </motion.div>\n            ))}\n          </motion.div>\n        </div>\n      </section>\n\n      {/* Languages Section */}\n      <section className=\"border-t border-border bg-card/50 py-16\">\n        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            viewport={{ once: true }}\n            className=\"text-center\"\n          >\n            <Globe className=\"mx-auto mb-4 h-12 w-12 text-primary\" />\n            <h2 className=\"mb-6 text-2xl font-bold\">\n              {t(\"settings.language\")}\n            </h2>\n            <div className=\"flex flex-wrap items-center justify-center gap-3\">\n              {languages.map((lang) => (\n                <Badge key={lang} variant=\"secondary\" className=\"px-4 py-2 text-base\">\n                  <Check className=\"mr-2 h-4 w-4 text-green-500\" />\n                  {lang}\n                </Badge>\n              ))}\n            </div>\n          </motion.div>\n        </div>\n      </section>\n\n      {/* CTA Section */}\n      <section className=\"py-20\">\n        <div className=\"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8\">\n          <motion.div\n            initial={{ opacity: 0, scale: 0.95 }}\n            whileInView={{ opacity: 1, scale: 1 }}\n            viewport={{ once: true }}\n          >\n            <Card className=\"overflow-hidden\">\n              <div className=\"relative bg-gradient-to-br from-primary/20 via-primary/10 to-background p-8 sm:p-12\">\n                <div className=\"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent\" />\n                <div className=\"relative text-center\">\n                  <Sparkles className=\"mx-auto mb-4 h-12 w-12 text-primary\" />\n                  <h2 className=\"mb-4 text-2xl font-bold sm:text-3xl\">\n                    {t(\"landing.title\")}\n                  </h2>\n                  <p className=\"mx-auto mb-6 max-w-xl text-muted-foreground\">\n                    {t(\"landing.description\")}\n                  </p>\n                  <Button \n                    size=\"lg\" \n                    onClick={handleLogin}\n                    className=\"gap-2\"\n                    data-testid=\"button-cta-login-bottom\"\n                  >\n                    {t(\"landing.cta\")}\n                    <ArrowRight className={`h-4 w-4 ${isRTL ? \"rotate-180\" : \"\"}`} />\n                  </Button>\n                </div>\n              </div>\n            </Card>\n          </motion.div>\n        </div>\n      </section>\n\n      {/* Footer */}\n      <footer className=\"border-t border-border py-8\">\n        <div className=\"mx-auto max-w-7xl px-4 text-center text-sm text-muted-foreground\">\n          <p> 2024 Remon Romany Genius. All rights reserved.</p>\n        </div>\n      </footer>\n    </div>\n  );\n}\n","path":null,"size_bytes":9620,"size_tokens":null},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","path":null,"size_bytes":1977,"size_tokens":null},"client/src/lib/i18n.ts":{"content":"// Multi-language support for Remon Romany Genius\n// Supports: Arabic (RTL), English, German, French, Spanish\n\nexport type Language = \"ar\" | \"en\" | \"de\" | \"fr\" | \"es\";\n\nexport const languages: Record<Language, { name: string; nativeName: string; dir: \"ltr\" | \"rtl\" }> = {\n  ar: { name: \"Arabic\", nativeName: \"\", dir: \"rtl\" },\n  en: { name: \"English\", nativeName: \"English\", dir: \"ltr\" },\n  de: { name: \"German\", nativeName: \"Deutsch\", dir: \"ltr\" },\n  fr: { name: \"French\", nativeName: \"Franais\", dir: \"ltr\" },\n  es: { name: \"Spanish\", nativeName: \"Espaol\", dir: \"ltr\" },\n};\n\nexport const translations: Record<Language, Record<string, string>> = {\n  ar: {\n    // Navigation\n    \"nav.home\": \"\",\n    \"nav.chat\": \"\",\n    \"nav.wpDoctor\": \" \",\n    \"nav.ide\": \" \",\n    \"nav.imageAi\": \" \",\n    \"nav.elementor\": \" Elementor\",\n    \"nav.settings\": \"\",\n    \"nav.wallet\": \"\",\n    \"nav.logout\": \" \",\n    \"nav.login\": \" \",\n\n    // Landing page\n    \"landing.title\": \"Remon Romany Genius\",\n    \"landing.subtitle\": \"     \",\n    \"landing.description\": \"         \",\n    \"landing.cta\": \" \",\n    \"landing.features\": \"\",\n\n    // Features\n    \"feature.chat\": \" \",\n    \"feature.chat.desc\": \"        \",\n    \"feature.wpDoctor\": \" \",\n    \"feature.wpDoctor.desc\": \"        \",\n    \"feature.ide\": \"  \",\n    \"feature.ide.desc\": \"      \",\n    \"feature.imageAi\": \" \",\n    \"feature.imageAi.desc\": \"    DALL-E 3  Stable Diffusion\",\n    \"feature.elementor\": \" Elementor\",\n    \"feature.elementor.desc\": \"  Elementor Pro  \",\n    \"feature.quota\": \" \",\n    \"feature.quota.desc\": \"  AI     \",\n\n    // Dashboard\n    \"dashboard.welcome\": \"\",\n    \"dashboard.quotaStatus\": \" \",\n    \"dashboard.recentChats\": \" \",\n    \"dashboard.quickActions\": \" \",\n    \"dashboard.costSaved\": \" \",\n    \"dashboard.requestsToday\": \" \",\n\n    // Chat\n    \"chat.newChat\": \" \",\n    \"chat.placeholder\": \"  ...\",\n    \"chat.send\": \"\",\n    \"chat.selectModel\": \" \",\n    \"chat.thinking\": \" ...\",\n    \"chat.copyCode\": \" \",\n    \"chat.copied\": \" !\",\n\n    // WordPress Doctor\n    \"wp.upload\": \"  ZIP\",\n    \"wp.uploadDesc\": \"     \",\n    \"wp.analyzing\": \" ...\",\n    \"wp.security\": \"\",\n    \"wp.performance\": \"\",\n    \"wp.codeQuality\": \" \",\n    \"wp.issues\": \"\",\n    \"wp.critical\": \"\",\n    \"wp.high\": \"\",\n    \"wp.medium\": \"\",\n    \"wp.low\": \"\",\n    \"wp.noIssues\": \"  !\",\n    \"wp.downloadReport\": \" \",\n\n    // IDE\n    \"ide.files\": \"\",\n    \"ide.newFile\": \" \",\n    \"ide.save\": \"\",\n    \"ide.askAi\": \"  \",\n\n    // Image AI\n    \"image.prompt\": \"  ...\",\n    \"image.generate\": \" \",\n    \"image.generating\": \" ...\",\n    \"image.download\": \"\",\n    \"image.regenerate\": \" \",\n    \"image.gallery\": \"\",\n\n    // Elementor\n    \"elementor.describe\": \"  ...\",\n    \"elementor.generate\": \" \",\n    \"elementor.preview\": \"\",\n    \"elementor.download\": \" JSON\",\n    \"elementor.widgets\": \"\",\n\n    // Settings\n    \"settings.title\": \"\",\n    \"settings.language\": \"\",\n    \"settings.theme\": \"\",\n    \"settings.dark\": \"\",\n    \"settings.light\": \"\",\n    \"settings.notifications\": \"\",\n    \"settings.save\": \" \",\n\n    // Wallet\n    \"wallet.balance\": \" \",\n    \"wallet.addFunds\": \" \",\n    \"wallet.history\": \" \",\n    \"wallet.deposit\": \"\",\n    \"wallet.usage\": \"\",\n\n    // Quota\n    \"quota.remaining\": \"\",\n    \"quota.of\": \"\",\n    \"quota.free\": \"\",\n    \"quota.warning\": \":    \",\n    \"quota.switched\": \"  \",\n\n    // Common\n    \"common.loading\": \" ...\",\n    \"common.error\": \" \",\n    \"common.retry\": \" \",\n    \"common.cancel\": \"\",\n    \"common.confirm\": \"\",\n    \"common.delete\": \"\",\n    \"common.edit\": \"\",\n    \"common.save\": \"\",\n    \"common.close\": \"\",\n  },\n\n  en: {\n    // Navigation\n    \"nav.home\": \"Home\",\n    \"nav.chat\": \"Chat\",\n    \"nav.wpDoctor\": \"WordPress Doctor\",\n    \"nav.ide\": \"IDE\",\n    \"nav.imageAi\": \"Image AI\",\n    \"nav.elementor\": \"Elementor Templates\",\n    \"nav.settings\": \"Settings\",\n    \"nav.wallet\": \"Wallet\",\n    \"nav.logout\": \"Logout\",\n    \"nav.login\": \"Login\",\n\n    // Landing page\n    \"landing.title\": \"Remon Romany Genius\",\n    \"landing.subtitle\": \"The Complete AI Platform for WordPress Development\",\n    \"landing.description\": \"Analyze, fix, and develop WordPress projects using the latest AI models\",\n    \"landing.cta\": \"Start Free\",\n    \"landing.features\": \"Features\",\n\n    // Features\n    \"feature.chat\": \"Smart Chat\",\n    \"feature.chat.desc\": \"Talk to AI for instant programming solutions\",\n    \"feature.wpDoctor\": \"WordPress Doctor\",\n    \"feature.wpDoctor.desc\": \"Analyze WordPress themes and plugins for security and performance issues\",\n    \"feature.ide\": \"Integrated IDE\",\n    \"feature.ide.desc\": \"Write and edit code with intelligent auto-completion\",\n    \"feature.imageAi\": \"Image Generation\",\n    \"feature.imageAi.desc\": \"Create professional images using DALL-E 3 and Stable Diffusion\",\n    \"feature.elementor\": \"Elementor Templates\",\n    \"feature.elementor.desc\": \"Generate ready-to-import Elementor Pro templates\",\n    \"feature.quota\": \"Smart Quotas\",\n    \"feature.quota.desc\": \"Use free AI models with intelligent auto-switching\",\n\n    // Dashboard\n    \"dashboard.welcome\": \"Welcome\",\n    \"dashboard.quotaStatus\": \"Quota Status\",\n    \"dashboard.recentChats\": \"Recent Chats\",\n    \"dashboard.quickActions\": \"Quick Actions\",\n    \"dashboard.costSaved\": \"Cost Saved\",\n    \"dashboard.requestsToday\": \"Requests Today\",\n\n    // Chat\n    \"chat.newChat\": \"New Chat\",\n    \"chat.placeholder\": \"Type your message here...\",\n    \"chat.send\": \"Send\",\n    \"chat.selectModel\": \"Select Model\",\n    \"chat.thinking\": \"Thinking...\",\n    \"chat.copyCode\": \"Copy Code\",\n    \"chat.copied\": \"Copied!\",\n\n    // WordPress Doctor\n    \"wp.upload\": \"Upload ZIP File\",\n    \"wp.uploadDesc\": \"Upload a WordPress theme or plugin for analysis\",\n    \"wp.analyzing\": \"Analyzing...\",\n    \"wp.security\": \"Security\",\n    \"wp.performance\": \"Performance\",\n    \"wp.codeQuality\": \"Code Quality\",\n    \"wp.issues\": \"Issues\",\n    \"wp.critical\": \"Critical\",\n    \"wp.high\": \"High\",\n    \"wp.medium\": \"Medium\",\n    \"wp.low\": \"Low\",\n    \"wp.noIssues\": \"No issues found!\",\n    \"wp.downloadReport\": \"Download Report\",\n\n    // IDE\n    \"ide.files\": \"Files\",\n    \"ide.newFile\": \"New File\",\n    \"ide.save\": \"Save\",\n    \"ide.askAi\": \"Ask AI\",\n\n    // Image AI\n    \"image.prompt\": \"Describe the image you want...\",\n    \"image.generate\": \"Generate Image\",\n    \"image.generating\": \"Generating...\",\n    \"image.download\": \"Download\",\n    \"image.regenerate\": \"Regenerate\",\n    \"image.gallery\": \"Gallery\",\n\n    // Elementor\n    \"elementor.describe\": \"Describe the website you want...\",\n    \"elementor.generate\": \"Generate Template\",\n    \"elementor.preview\": \"Preview\",\n    \"elementor.download\": \"Download JSON\",\n    \"elementor.widgets\": \"Widgets\",\n\n    // Settings\n    \"settings.title\": \"Settings\",\n    \"settings.language\": \"Language\",\n    \"settings.theme\": \"Theme\",\n    \"settings.dark\": \"Dark\",\n    \"settings.light\": \"Light\",\n    \"settings.notifications\": \"Notifications\",\n    \"settings.save\": \"Save Changes\",\n\n    // Wallet\n    \"wallet.balance\": \"Current Balance\",\n    \"wallet.addFunds\": \"Add Funds\",\n    \"wallet.history\": \"Transaction History\",\n    \"wallet.deposit\": \"Deposit\",\n    \"wallet.usage\": \"Usage\",\n\n    // Quota\n    \"quota.remaining\": \"remaining\",\n    \"quota.of\": \"of\",\n    \"quota.free\": \"Free\",\n    \"quota.warning\": \"Warning: Quota almost exhausted\",\n    \"quota.switched\": \"Switched to\",\n\n    // Common\n    \"common.loading\": \"Loading...\",\n    \"common.error\": \"An error occurred\",\n    \"common.retry\": \"Retry\",\n    \"common.cancel\": \"Cancel\",\n    \"common.confirm\": \"Confirm\",\n    \"common.delete\": \"Delete\",\n    \"common.edit\": \"Edit\",\n    \"common.save\": \"Save\",\n    \"common.close\": \"Close\",\n  },\n\n  de: {\n    // Navigation\n    \"nav.home\": \"Startseite\",\n    \"nav.chat\": \"Chat\",\n    \"nav.wpDoctor\": \"WordPress Doktor\",\n    \"nav.ide\": \"IDE\",\n    \"nav.imageAi\": \"Bild-KI\",\n    \"nav.elementor\": \"Elementor Vorlagen\",\n    \"nav.settings\": \"Einstellungen\",\n    \"nav.wallet\": \"Geldbrse\",\n    \"nav.logout\": \"Abmelden\",\n    \"nav.login\": \"Anmelden\",\n\n    // Landing page\n    \"landing.title\": \"Remon Romany Genius\",\n    \"landing.subtitle\": \"Die komplette KI-Plattform fr WordPress-Entwicklung\",\n    \"landing.description\": \"Analysieren, reparieren und entwickeln Sie WordPress-Projekte mit neuesten KI-Modellen\",\n    \"landing.cta\": \"Kostenlos starten\",\n    \"landing.features\": \"Funktionen\",\n\n    // Features\n    \"feature.chat\": \"Intelligenter Chat\",\n    \"feature.chat.desc\": \"Sprechen Sie mit KI fr sofortige Programmierlsungen\",\n    \"feature.wpDoctor\": \"WordPress Doktor\",\n    \"feature.wpDoctor.desc\": \"Analysieren Sie WordPress-Themes und Plugins auf Sicherheits- und Leistungsprobleme\",\n    \"feature.ide\": \"Integrierte IDE\",\n    \"feature.ide.desc\": \"Code schreiben und bearbeiten mit intelligenter Autovervollstndigung\",\n    \"feature.imageAi\": \"Bilderzeugung\",\n    \"feature.imageAi.desc\": \"Erstellen Sie professionelle Bilder mit DALL-E 3 und Stable Diffusion\",\n    \"feature.elementor\": \"Elementor Vorlagen\",\n    \"feature.elementor.desc\": \"Generieren Sie importfertige Elementor Pro Vorlagen\",\n    \"feature.quota\": \"Intelligente Kontingente\",\n    \"feature.quota.desc\": \"Nutzen Sie kostenlose KI-Modelle mit intelligentem Auto-Switching\",\n\n    // Dashboard\n    \"dashboard.welcome\": \"Willkommen\",\n    \"dashboard.quotaStatus\": \"Kontingentstatus\",\n    \"dashboard.recentChats\": \"Letzte Chats\",\n    \"dashboard.quickActions\": \"Schnellaktionen\",\n    \"dashboard.costSaved\": \"Eingesparte Kosten\",\n    \"dashboard.requestsToday\": \"Anfragen heute\",\n\n    // Common\n    \"common.loading\": \"Laden...\",\n    \"common.error\": \"Ein Fehler ist aufgetreten\",\n    \"common.retry\": \"Erneut versuchen\",\n    \"common.cancel\": \"Abbrechen\",\n    \"common.confirm\": \"Besttigen\",\n    \"common.delete\": \"Lschen\",\n    \"common.edit\": \"Bearbeiten\",\n    \"common.save\": \"Speichern\",\n    \"common.close\": \"Schlieen\",\n  },\n\n  fr: {\n    // Navigation\n    \"nav.home\": \"Accueil\",\n    \"nav.chat\": \"Discussion\",\n    \"nav.wpDoctor\": \"Docteur WordPress\",\n    \"nav.ide\": \"IDE\",\n    \"nav.imageAi\": \"IA Image\",\n    \"nav.elementor\": \"Modles Elementor\",\n    \"nav.settings\": \"Paramtres\",\n    \"nav.wallet\": \"Portefeuille\",\n    \"nav.logout\": \"Dconnexion\",\n    \"nav.login\": \"Connexion\",\n\n    // Landing page\n    \"landing.title\": \"Remon Romany Genius\",\n    \"landing.subtitle\": \"La plateforme IA complte pour le dveloppement WordPress\",\n    \"landing.description\": \"Analysez, corrigez et dveloppez des projets WordPress avec les derniers modles IA\",\n    \"landing.cta\": \"Commencer gratuitement\",\n    \"landing.features\": \"Fonctionnalits\",\n\n    // Features\n    \"feature.chat\": \"Chat intelligent\",\n    \"feature.chat.desc\": \"Discutez avec l'IA pour des solutions de programmation instantanes\",\n    \"feature.wpDoctor\": \"Docteur WordPress\",\n    \"feature.wpDoctor.desc\": \"Analysez les thmes et plugins WordPress pour les problmes de scurit et de performance\",\n    \"feature.ide\": \"IDE intgr\",\n    \"feature.ide.desc\": \"crivez et modifiez du code avec une autocompltion intelligente\",\n    \"feature.imageAi\": \"Gnration d'images\",\n    \"feature.imageAi.desc\": \"Crez des images professionnelles avec DALL-E 3 et Stable Diffusion\",\n    \"feature.elementor\": \"Modles Elementor\",\n    \"feature.elementor.desc\": \"Gnrez des modles Elementor Pro prts  importer\",\n    \"feature.quota\": \"Quotas intelligents\",\n    \"feature.quota.desc\": \"Utilisez des modles IA gratuits avec changement automatique intelligent\",\n\n    // Dashboard\n    \"dashboard.welcome\": \"Bienvenue\",\n    \"dashboard.quotaStatus\": \"Statut des quotas\",\n    \"dashboard.recentChats\": \"Discussions rcentes\",\n    \"dashboard.quickActions\": \"Actions rapides\",\n    \"dashboard.costSaved\": \"Cots conomiss\",\n    \"dashboard.requestsToday\": \"Demandes aujourd'hui\",\n\n    // Common\n    \"common.loading\": \"Chargement...\",\n    \"common.error\": \"Une erreur s'est produite\",\n    \"common.retry\": \"Ressayer\",\n    \"common.cancel\": \"Annuler\",\n    \"common.confirm\": \"Confirmer\",\n    \"common.delete\": \"Supprimer\",\n    \"common.edit\": \"Modifier\",\n    \"common.save\": \"Enregistrer\",\n    \"common.close\": \"Fermer\",\n  },\n\n  es: {\n    // Navigation\n    \"nav.home\": \"Inicio\",\n    \"nav.chat\": \"Chat\",\n    \"nav.wpDoctor\": \"Doctor WordPress\",\n    \"nav.ide\": \"IDE\",\n    \"nav.imageAi\": \"IA de Imgenes\",\n    \"nav.elementor\": \"Plantillas Elementor\",\n    \"nav.settings\": \"Configuracin\",\n    \"nav.wallet\": \"Cartera\",\n    \"nav.logout\": \"Cerrar sesin\",\n    \"nav.login\": \"Iniciar sesin\",\n\n    // Landing page\n    \"landing.title\": \"Remon Romany Genius\",\n    \"landing.subtitle\": \"La plataforma de IA completa para desarrollo WordPress\",\n    \"landing.description\": \"Analiza, repara y desarrolla proyectos WordPress usando los ltimos modelos de IA\",\n    \"landing.cta\": \"Comenzar gratis\",\n    \"landing.features\": \"Caractersticas\",\n\n    // Features\n    \"feature.chat\": \"Chat inteligente\",\n    \"feature.chat.desc\": \"Habla con IA para soluciones de programacin instantneas\",\n    \"feature.wpDoctor\": \"Doctor WordPress\",\n    \"feature.wpDoctor.desc\": \"Analiza temas y plugins de WordPress para problemas de seguridad y rendimiento\",\n    \"feature.ide\": \"IDE integrado\",\n    \"feature.ide.desc\": \"Escribe y edita cdigo con autocompletado inteligente\",\n    \"feature.imageAi\": \"Generacin de imgenes\",\n    \"feature.imageAi.desc\": \"Crea imgenes profesionales usando DALL-E 3 y Stable Diffusion\",\n    \"feature.elementor\": \"Plantillas Elementor\",\n    \"feature.elementor.desc\": \"Genera plantillas Elementor Pro listas para importar\",\n    \"feature.quota\": \"Cuotas inteligentes\",\n    \"feature.quota.desc\": \"Usa modelos de IA gratuitos con cambio automtico inteligente\",\n\n    // Dashboard\n    \"dashboard.welcome\": \"Bienvenido\",\n    \"dashboard.quotaStatus\": \"Estado de cuotas\",\n    \"dashboard.recentChats\": \"Chats recientes\",\n    \"dashboard.quickActions\": \"Acciones rpidas\",\n    \"dashboard.costSaved\": \"Costo ahorrado\",\n    \"dashboard.requestsToday\": \"Solicitudes hoy\",\n\n    // Common\n    \"common.loading\": \"Cargando...\",\n    \"common.error\": \"Ha ocurrido un error\",\n    \"common.retry\": \"Reintentar\",\n    \"common.cancel\": \"Cancelar\",\n    \"common.confirm\": \"Confirmar\",\n    \"common.delete\": \"Eliminar\",\n    \"common.edit\": \"Editar\",\n    \"common.save\": \"Guardar\",\n    \"common.close\": \"Cerrar\",\n  },\n};\n\n// Get browser language\nexport function detectLanguage(): Language {\n  if (typeof navigator === \"undefined\") return \"en\";\n  \n  const browserLang = navigator.language.split(\"-\")[0];\n  if (browserLang in languages) {\n    return browserLang as Language;\n  }\n  return \"en\";\n}\n\n// Translation function\nexport function t(key: string, lang: Language = \"en\"): string {\n  return translations[lang]?.[key] || translations.en[key] || key;\n}\n\n// Get direction for language\nexport function getDirection(lang: Language): \"ltr\" | \"rtl\" {\n  return languages[lang]?.dir || \"ltr\";\n}\n","path":null,"size_bytes":16829,"size_tokens":null},"client/src/pages/Elementor.tsx":{"content":"import { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport {\n  Wand2,\n  Download,\n  Eye,\n  Copy,\n  Check,\n  Loader2,\n  LayoutGrid,\n  Type,\n  Image,\n  Square,\n  Columns,\n  Heading,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport { useLanguage } from \"@/contexts/LanguageContext\";\n\ninterface ElementorWidget {\n  id: string;\n  elType: string;\n  widgetType?: string;\n  settings: Record<string, unknown>;\n  elements?: ElementorWidget[];\n}\n\ninterface GeneratedTemplate {\n  id: string;\n  name: string;\n  description: string;\n  template: ElementorWidget[];\n  createdAt: Date;\n}\n\n// Mock template\nconst mockTemplate: ElementorWidget[] = [\n  {\n    id: \"section-1\",\n    elType: \"section\",\n    settings: { layout: \"full_width\", gap: \"extended\" },\n    elements: [\n      {\n        id: \"column-1\",\n        elType: \"column\",\n        settings: { _column_size: 100 },\n        elements: [\n          {\n            id: \"heading-1\",\n            elType: \"widget\",\n            widgetType: \"heading\",\n            settings: {\n              title: \"Welcome to Our Agency\",\n              align: \"center\",\n              title_color: \"#1a1a1a\",\n              typography_typography: \"custom\",\n              typography_font_size: { unit: \"px\", size: 48 },\n            },\n          },\n          {\n            id: \"text-1\",\n            elType: \"widget\",\n            widgetType: \"text-editor\",\n            settings: {\n              editor: \"<p>We create stunning WordPress websites that drive results.</p>\",\n              align: \"center\",\n            },\n          },\n        ],\n      },\n    ],\n  },\n  {\n    id: \"section-2\",\n    elType: \"section\",\n    settings: { layout: \"boxed\", gap: \"default\" },\n    elements: [\n      {\n        id: \"column-2\",\n        elType: \"column\",\n        settings: { _column_size: 33 },\n        elements: [\n          {\n            id: \"icon-box-1\",\n            elType: \"widget\",\n            widgetType: \"icon-box\",\n            settings: {\n              title: \"Web Design\",\n              description_text: \"Beautiful, responsive websites\",\n              selected_icon: { value: \"fas fa-laptop-code\" },\n            },\n          },\n        ],\n      },\n      {\n        id: \"column-3\",\n        elType: \"column\",\n        settings: { _column_size: 33 },\n        elements: [\n          {\n            id: \"icon-box-2\",\n            elType: \"widget\",\n            widgetType: \"icon-box\",\n            settings: {\n              title: \"Development\",\n              description_text: \"Custom WordPress solutions\",\n              selected_icon: { value: \"fas fa-code\" },\n            },\n          },\n        ],\n      },\n      {\n        id: \"column-4\",\n        elType: \"column\",\n        settings: { _column_size: 34 },\n        elements: [\n          {\n            id: \"icon-box-3\",\n            elType: \"widget\",\n            widgetType: \"icon-box\",\n            settings: {\n              title: \"SEO\",\n              description_text: \"Search engine optimization\",\n              selected_icon: { value: \"fas fa-chart-line\" },\n            },\n          },\n        ],\n      },\n    ],\n  },\n];\n\nconst widgetIcons: Record<string, typeof Heading> = {\n  heading: Heading,\n  \"text-editor\": Type,\n  image: Image,\n  button: Square,\n  \"icon-box\": LayoutGrid,\n  section: Columns,\n};\n\nconst renderWidgetPreview = (widget: ElementorWidget, depth = 0) => {\n  const Icon = widgetIcons[widget.widgetType || widget.elType] || Square;\n  \n  return (\n    <div\n      key={widget.id}\n      className={`border-l-2 ${depth === 0 ? \"border-primary\" : depth === 1 ? \"border-blue-400\" : \"border-muted\"}`}\n      style={{ marginLeft: depth * 12 }}\n    >\n      <div className=\"flex items-center gap-2 rounded-r-md bg-muted/50 px-3 py-2 hover-elevate\">\n        <Icon className=\"h-4 w-4 text-muted-foreground\" />\n        <span className=\"text-sm font-medium\">\n          {widget.widgetType || widget.elType}\n        </span>\n        {widget.elType === \"section\" && (\n          <Badge variant=\"secondary\" className=\"ml-auto text-xs\">\n            Section\n          </Badge>\n        )}\n      </div>\n      {widget.elements?.map((child) => renderWidgetPreview(child, depth + 1))}\n    </div>\n  );\n};\n\nexport default function Elementor() {\n  const { t } = useLanguage();\n  const [prompt, setPrompt] = useState(\"\");\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [template, setTemplate] = useState<ElementorWidget[] | null>(null);\n  const [copied, setCopied] = useState(false);\n\n  const handleGenerate = async () => {\n    if (!prompt.trim() || isGenerating) return;\n\n    setIsGenerating(true);\n    // Simulate generation (will be replaced with real API)\n    await new Promise((resolve) => setTimeout(resolve, 2500));\n    setTemplate(mockTemplate);\n    setIsGenerating(false);\n  };\n\n  const copyToClipboard = () => {\n    if (!template) return;\n    navigator.clipboard.writeText(JSON.stringify(template, null, 2));\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n\n  const downloadJson = () => {\n    if (!template) return;\n    const blob = new Blob([JSON.stringify(template, null, 2)], { type: \"application/json\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = \"elementor-template.json\";\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const presetPrompts = [\n    \"Modern agency homepage with hero, services, and contact form\",\n    \"E-commerce product showcase with testimonials\",\n    \"Portfolio page with grid gallery and about section\",\n    \"Blog layout with featured posts and sidebar\",\n    \"Landing page for SaaS product with pricing table\",\n  ];\n\n  return (\n    <div className=\"min-h-full p-4 sm:p-6 lg:p-8\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"mx-auto max-w-6xl space-y-6\"\n      >\n        {/* Header */}\n        <div className=\"text-center\">\n          <h1 className=\"mb-2 text-3xl font-bold\">{t(\"nav.elementor\")}</h1>\n          <p className=\"text-muted-foreground\">{t(\"feature.elementor.desc\")}</p>\n        </div>\n\n        <div className=\"grid gap-6 lg:grid-cols-2\">\n          {/* Input Panel */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Wand2 className=\"h-5 w-5 text-primary\" />\n                {t(\"elementor.describe\")}\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <Textarea\n                value={prompt}\n                onChange={(e) => setPrompt(e.target.value)}\n                placeholder={t(\"elementor.describe\")}\n                className=\"min-h-[150px] resize-none\"\n                data-testid=\"input-elementor-prompt\"\n              />\n\n              {/* Preset Prompts */}\n              <div className=\"space-y-2\">\n                <p className=\"text-sm font-medium text-muted-foreground\">Quick Presets:</p>\n                <div className=\"flex flex-wrap gap-2\">\n                  {presetPrompts.map((preset, index) => (\n                    <Badge\n                      key={index}\n                      variant=\"outline\"\n                      className=\"cursor-pointer hover-elevate\"\n                      onClick={() => setPrompt(preset)}\n                      data-testid={`preset-${index}`}\n                    >\n                      {preset.slice(0, 30)}...\n                    </Badge>\n                  ))}\n                </div>\n              </div>\n\n              <Button\n                className=\"w-full gap-2\"\n                size=\"lg\"\n                onClick={handleGenerate}\n                disabled={!prompt.trim() || isGenerating}\n                data-testid=\"button-generate-template\"\n              >\n                {isGenerating ? (\n                  <>\n                    <Loader2 className=\"h-5 w-5 animate-spin\" />\n                    Generating...\n                  </>\n                ) : (\n                  <>\n                    <Wand2 className=\"h-5 w-5\" />\n                    {t(\"elementor.generate\")}\n                  </>\n                )}\n              </Button>\n\n              <p className=\"text-center text-sm text-muted-foreground\">\n                <span className=\"inline-flex items-center gap-1\">\n                  <span className=\"inline-block h-1.5 w-1.5 rounded-full bg-green-500\" />\n                  Uses free AI models\n                </span>\n              </p>\n            </CardContent>\n          </Card>\n\n          {/* Output Panel */}\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between gap-2\">\n              <CardTitle className=\"flex items-center gap-2\">\n                <LayoutGrid className=\"h-5 w-5 text-primary\" />\n                Generated Template\n              </CardTitle>\n              {template && (\n                <div className=\"flex gap-2\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"gap-2\"\n                    onClick={copyToClipboard}\n                    data-testid=\"button-copy-template\"\n                  >\n                    {copied ? <Check className=\"h-4 w-4\" /> : <Copy className=\"h-4 w-4\" />}\n                    {copied ? t(\"chat.copied\") : \"Copy\"}\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"gap-2\"\n                    onClick={downloadJson}\n                    data-testid=\"button-download-template\"\n                  >\n                    <Download className=\"h-4 w-4\" />\n                    {t(\"elementor.download\")}\n                  </Button>\n                </div>\n              )}\n            </CardHeader>\n            <CardContent>\n              {template ? (\n                <Tabs defaultValue=\"structure\" className=\"space-y-4\">\n                  <TabsList>\n                    <TabsTrigger value=\"structure\">Structure</TabsTrigger>\n                    <TabsTrigger value=\"json\">JSON</TabsTrigger>\n                  </TabsList>\n\n                  <TabsContent value=\"structure\">\n                    <ScrollArea className=\"h-[400px] rounded-lg border p-4\">\n                      <div className=\"space-y-2\">\n                        {template.map((widget) => renderWidgetPreview(widget))}\n                      </div>\n                    </ScrollArea>\n                  </TabsContent>\n\n                  <TabsContent value=\"json\">\n                    <ScrollArea className=\"h-[400px] rounded-lg bg-muted p-4\">\n                      <pre className=\"whitespace-pre-wrap font-mono text-xs\">\n                        {JSON.stringify(template, null, 2)}\n                      </pre>\n                    </ScrollArea>\n                  </TabsContent>\n                </Tabs>\n              ) : (\n                <div className=\"flex h-[400px] items-center justify-center rounded-lg border border-dashed\">\n                  <div className=\"text-center text-muted-foreground\">\n                    <LayoutGrid className=\"mx-auto mb-4 h-12 w-12 opacity-50\" />\n                    <p>Your generated template will appear here</p>\n                  </div>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Widgets Reference */}\n        <Card>\n          <CardHeader>\n            <CardTitle>{t(\"elementor.widgets\")}</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid gap-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4\">\n              {[\n                { name: \"Heading\", icon: Heading, desc: \"H1-H6 titles\" },\n                { name: \"Text Editor\", icon: Type, desc: \"Rich text content\" },\n                { name: \"Image\", icon: Image, desc: \"Images & galleries\" },\n                { name: \"Button\", icon: Square, desc: \"CTA buttons\" },\n                { name: \"Icon Box\", icon: LayoutGrid, desc: \"Icons with text\" },\n                { name: \"Section\", icon: Columns, desc: \"Layout container\" },\n              ].map((widget, index) => (\n                <div\n                  key={index}\n                  className=\"flex items-center gap-3 rounded-lg border p-3 hover-elevate\"\n                >\n                  <div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10\">\n                    <widget.icon className=\"h-5 w-5 text-primary\" />\n                  </div>\n                  <div>\n                    <p className=\"font-medium\">{widget.name}</p>\n                    <p className=\"text-xs text-muted-foreground\">{widget.desc}</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      </motion.div>\n    </div>\n  );\n}\n","path":null,"size_bytes":13220,"size_tokens":null},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","path":null,"size_bytes":791,"size_tokens":null},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","path":null,"size_bytes":6210,"size_tokens":null},"client/src/pages/IDE.tsx":{"content":"import { useState, useEffect, useRef } from \"react\";\nimport { motion } from \"framer-motion\";\nimport {\n  File,\n  Folder,\n  FolderOpen,\n  Plus,\n  Save,\n  Sparkles,\n  ChevronRight,\n  ChevronDown,\n  FileCode,\n  FileJson,\n  FileCog,\n  Settings,\n  Play,\n  X,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { ResizableHandle, ResizablePanel, ResizablePanelGroup } from \"@/components/ui/resizable\";\nimport { useLanguage } from \"@/contexts/LanguageContext\";\n\ninterface FileNode {\n  id: string;\n  name: string;\n  type: \"file\" | \"folder\";\n  children?: FileNode[];\n  content?: string;\n  language?: string;\n}\n\n// Mock file tree\nconst mockFileTree: FileNode[] = [\n  {\n    id: \"1\",\n    name: \"my-theme\",\n    type: \"folder\",\n    children: [\n      { id: \"2\", name: \"style.css\", type: \"file\", language: \"css\", content: \"/* Theme styles */\\n\\nbody {\\n  font-family: 'Open Sans', sans-serif;\\n  line-height: 1.6;\\n  color: #333;\\n}\" },\n      { id: \"3\", name: \"functions.php\", type: \"file\", language: \"php\", content: \"<?php\\n/**\\n * Theme Functions\\n */\\n\\nfunction my_theme_setup() {\\n    add_theme_support('title-tag');\\n    add_theme_support('post-thumbnails');\\n}\\nadd_action('after_setup_theme', 'my_theme_setup');\" },\n      {\n        id: \"4\",\n        name: \"templates\",\n        type: \"folder\",\n        children: [\n          { id: \"5\", name: \"header.php\", type: \"file\", language: \"php\", content: '<?php\\n/**\\n * Header Template\\n */\\n?>\\n<!DOCTYPE html>\\n<html <?php language_attributes(); ?>>\\n<head>\\n    <meta charset=\"<?php bloginfo(\\'charset\\'); ?>\">\\n    <?php wp_head(); ?>\\n</head>\\n<body <?php body_class(); ?>>' },\n          { id: \"6\", name: \"footer.php\", type: \"file\", language: \"php\", content: \"<?php\\n/**\\n * Footer Template\\n */\\n?>\\n    <?php wp_footer(); ?>\\n</body>\\n</html>\" },\n        ],\n      },\n      { id: \"7\", name: \"package.json\", type: \"file\", language: \"json\", content: '{\\n  \"name\": \"my-theme\",\\n  \"version\": \"1.0.0\",\\n  \"scripts\": {\\n    \"build\": \"webpack --mode production\"\\n  }\\n}' },\n    ],\n  },\n];\n\nconst getFileIcon = (name: string) => {\n  if (name.endsWith(\".php\")) return FileCode;\n  if (name.endsWith(\".json\")) return FileJson;\n  if (name.endsWith(\".css\") || name.endsWith(\".scss\")) return FileCog;\n  return File;\n};\n\ninterface FileTreeItemProps {\n  node: FileNode;\n  depth: number;\n  openFolders: Set<string>;\n  selectedFile: string | null;\n  onToggleFolder: (id: string) => void;\n  onSelectFile: (node: FileNode) => void;\n}\n\nfunction FileTreeItem({ node, depth, openFolders, selectedFile, onToggleFolder, onSelectFile }: FileTreeItemProps) {\n  const isOpen = openFolders.has(node.id);\n  const isSelected = selectedFile === node.id;\n  const Icon = node.type === \"folder\" ? (isOpen ? FolderOpen : Folder) : getFileIcon(node.name);\n  const ChevronIcon = isOpen ? ChevronDown : ChevronRight;\n\n  return (\n    <div>\n      <div\n        className={`flex cursor-pointer items-center gap-1 rounded-md px-2 py-1.5 text-sm hover-elevate ${\n          isSelected ? \"bg-accent\" : \"\"\n        }`}\n        style={{ paddingLeft: `${depth * 12 + 8}px` }}\n        onClick={() => {\n          if (node.type === \"folder\") {\n            onToggleFolder(node.id);\n          } else {\n            onSelectFile(node);\n          }\n        }}\n        data-testid={`file-tree-item-${node.id}`}\n      >\n        {node.type === \"folder\" && (\n          <ChevronIcon className=\"h-4 w-4 shrink-0 text-muted-foreground\" />\n        )}\n        <Icon className={`h-4 w-4 shrink-0 ${node.type === \"folder\" ? \"text-blue-500\" : \"text-muted-foreground\"}`} />\n        <span className=\"truncate\">{node.name}</span>\n      </div>\n      {node.type === \"folder\" && isOpen && node.children && (\n        <div>\n          {node.children.map((child) => (\n            <FileTreeItem\n              key={child.id}\n              node={child}\n              depth={depth + 1}\n              openFolders={openFolders}\n              selectedFile={selectedFile}\n              onToggleFolder={onToggleFolder}\n              onSelectFile={onSelectFile}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\ninterface OpenTab {\n  id: string;\n  name: string;\n  content: string;\n  language: string;\n  isDirty: boolean;\n}\n\nexport default function IDE() {\n  const { t } = useLanguage();\n  const [openFolders, setOpenFolders] = useState<Set<string>>(new Set([\"1\"]));\n  const [openTabs, setOpenTabs] = useState<OpenTab[]>([]);\n  const [activeTab, setActiveTab] = useState<string | null>(null);\n  const [aiPrompt, setAiPrompt] = useState(\"\");\n  const [showAiPanel, setShowAiPanel] = useState(false);\n  const editorRef = useRef<HTMLTextAreaElement>(null);\n\n  const toggleFolder = (id: string) => {\n    setOpenFolders((prev) => {\n      const next = new Set(prev);\n      if (next.has(id)) {\n        next.delete(id);\n      } else {\n        next.add(id);\n      }\n      return next;\n    });\n  };\n\n  const selectFile = (node: FileNode) => {\n    if (node.type !== \"file\") return;\n\n    // Check if already open\n    const existingTab = openTabs.find((tab) => tab.id === node.id);\n    if (existingTab) {\n      setActiveTab(node.id);\n      return;\n    }\n\n    // Open new tab\n    const newTab: OpenTab = {\n      id: node.id,\n      name: node.name,\n      content: node.content || \"\",\n      language: node.language || \"text\",\n      isDirty: false,\n    };\n    setOpenTabs((prev) => [...prev, newTab]);\n    setActiveTab(node.id);\n  };\n\n  const closeTab = (id: string, e: React.MouseEvent) => {\n    e.stopPropagation();\n    setOpenTabs((prev) => prev.filter((tab) => tab.id !== id));\n    if (activeTab === id) {\n      const remaining = openTabs.filter((tab) => tab.id !== id);\n      setActiveTab(remaining.length > 0 ? remaining[remaining.length - 1].id : null);\n    }\n  };\n\n  const updateTabContent = (content: string) => {\n    if (!activeTab) return;\n    setOpenTabs((prev) =>\n      prev.map((tab) =>\n        tab.id === activeTab ? { ...tab, content, isDirty: true } : tab\n      )\n    );\n  };\n\n  const activeTabData = openTabs.find((tab) => tab.id === activeTab);\n\n  return (\n    <div className=\"flex h-full flex-col\">\n      {/* Toolbar */}\n      <div className=\"flex items-center justify-between border-b border-border bg-card/50 px-4 py-2\">\n        <div className=\"flex items-center gap-2\">\n          <Button variant=\"ghost\" size=\"sm\" className=\"gap-2\">\n            <Plus className=\"h-4 w-4\" />\n            {t(\"ide.newFile\")}\n          </Button>\n          <Button variant=\"ghost\" size=\"sm\" className=\"gap-2\" data-testid=\"button-save-file\">\n            <Save className=\"h-4 w-4\" />\n            {t(\"ide.save\")}\n          </Button>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Button\n            variant={showAiPanel ? \"default\" : \"outline\"}\n            size=\"sm\"\n            className=\"gap-2\"\n            onClick={() => setShowAiPanel(!showAiPanel)}\n            data-testid=\"button-toggle-ai-panel\"\n          >\n            <Sparkles className=\"h-4 w-4\" />\n            {t(\"ide.askAi\")}\n          </Button>\n          <Button variant=\"ghost\" size=\"icon\">\n            <Settings className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 overflow-hidden\">\n        <ResizablePanelGroup direction=\"horizontal\">\n          {/* File Tree */}\n          <ResizablePanel defaultSize={20} minSize={15} maxSize={35}>\n            <div className=\"flex h-full flex-col border-r border-border bg-card/30\">\n              <div className=\"flex items-center justify-between border-b border-border px-3 py-2\">\n                <span className=\"text-sm font-medium\">{t(\"ide.files\")}</span>\n                <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\">\n                  <Plus className=\"h-4 w-4\" />\n                </Button>\n              </div>\n              <ScrollArea className=\"flex-1 p-2\">\n                {mockFileTree.map((node) => (\n                  <FileTreeItem\n                    key={node.id}\n                    node={node}\n                    depth={0}\n                    openFolders={openFolders}\n                    selectedFile={activeTab}\n                    onToggleFolder={toggleFolder}\n                    onSelectFile={selectFile}\n                  />\n                ))}\n              </ScrollArea>\n            </div>\n          </ResizablePanel>\n\n          <ResizableHandle />\n\n          {/* Editor Area */}\n          <ResizablePanel defaultSize={showAiPanel ? 55 : 80}>\n            <div className=\"flex h-full flex-col\">\n              {/* Tabs */}\n              <div className=\"flex items-center gap-1 overflow-x-auto border-b border-border bg-card/30 px-2\">\n                {openTabs.map((tab) => (\n                  <div\n                    key={tab.id}\n                    className={`flex cursor-pointer items-center gap-2 border-b-2 px-3 py-2 text-sm ${\n                      activeTab === tab.id\n                        ? \"border-primary text-foreground\"\n                        : \"border-transparent text-muted-foreground hover:text-foreground\"\n                    }`}\n                    onClick={() => setActiveTab(tab.id)}\n                    data-testid={`tab-${tab.id}`}\n                  >\n                    {getFileIcon(tab.name)({ className: \"h-4 w-4\" })}\n                    <span>{tab.name}</span>\n                    {tab.isDirty && <span className=\"h-2 w-2 rounded-full bg-yellow-500\" />}\n                    <button\n                      className=\"ml-1 rounded p-0.5 hover:bg-muted\"\n                      onClick={(e) => closeTab(tab.id, e)}\n                    >\n                      <X className=\"h-3 w-3\" />\n                    </button>\n                  </div>\n                ))}\n              </div>\n\n              {/* Editor */}\n              <div className=\"flex-1 overflow-hidden\">\n                {activeTabData ? (\n                  <div className=\"relative h-full\">\n                    <Badge\n                      variant=\"secondary\"\n                      className=\"absolute right-2 top-2 z-10 text-xs\"\n                    >\n                      {activeTabData.language}\n                    </Badge>\n                    <Textarea\n                      ref={editorRef}\n                      value={activeTabData.content}\n                      onChange={(e) => updateTabContent(e.target.value)}\n                      className=\"h-full resize-none rounded-none border-0 font-mono text-sm focus-visible:ring-0\"\n                      spellCheck={false}\n                      data-testid=\"textarea-editor\"\n                    />\n                  </div>\n                ) : (\n                  <div className=\"flex h-full items-center justify-center text-muted-foreground\">\n                    <div className=\"text-center\">\n                      <FileCode className=\"mx-auto mb-4 h-12 w-12 opacity-50\" />\n                      <p>Select a file to start editing</p>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </ResizablePanel>\n\n          {showAiPanel && (\n            <>\n              <ResizableHandle />\n\n              {/* AI Panel */}\n              <ResizablePanel defaultSize={25} minSize={20} maxSize={40}>\n                <div className=\"flex h-full flex-col border-l border-border bg-card/30\">\n                  <div className=\"flex items-center justify-between border-b border-border px-3 py-2\">\n                    <div className=\"flex items-center gap-2\">\n                      <Sparkles className=\"h-4 w-4 text-primary\" />\n                      <span className=\"text-sm font-medium\">AI Assistant</span>\n                    </div>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-6 w-6\"\n                      onClick={() => setShowAiPanel(false)}\n                    >\n                      <X className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                  <ScrollArea className=\"flex-1 p-4\">\n                    <div className=\"space-y-4\">\n                      <p className=\"text-sm text-muted-foreground\">\n                        Ask AI to help you write, refactor, or debug code.\n                      </p>\n                      <div className=\"rounded-lg bg-card p-3\">\n                        <p className=\"text-sm\">\n                          <strong>Suggestions:</strong>\n                        </p>\n                        <ul className=\"mt-2 space-y-1 text-sm text-muted-foreground\">\n                          <li className=\"cursor-pointer hover:text-foreground\">\n                            - Explain this code\n                          </li>\n                          <li className=\"cursor-pointer hover:text-foreground\">\n                            - Find bugs in this file\n                          </li>\n                          <li className=\"cursor-pointer hover:text-foreground\">\n                            - Optimize for performance\n                          </li>\n                          <li className=\"cursor-pointer hover:text-foreground\">\n                            - Add WordPress security checks\n                          </li>\n                        </ul>\n                      </div>\n                    </div>\n                  </ScrollArea>\n                  <div className=\"border-t border-border p-3\">\n                    <div className=\"flex gap-2\">\n                      <Textarea\n                        value={aiPrompt}\n                        onChange={(e) => setAiPrompt(e.target.value)}\n                        placeholder=\"Ask AI for help...\"\n                        className=\"min-h-[80px] resize-none text-sm\"\n                        data-testid=\"input-ai-prompt\"\n                      />\n                    </div>\n                    <Button className=\"mt-2 w-full gap-2\" size=\"sm\" data-testid=\"button-send-ai\">\n                      <Play className=\"h-4 w-4\" />\n                      Send to AI\n                    </Button>\n                  </div>\n                </div>\n              </ResizablePanel>\n            </>\n          )}\n        </ResizablePanelGroup>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":14331,"size_tokens":null},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","path":null,"size_bytes":1904,"size_tokens":null},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","path":null,"size_bytes":2695,"size_tokens":null},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","path":null,"size_bytes":1056,"size_tokens":null},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","path":null,"size_bytes":7428,"size_tokens":null},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","path":null,"size_bytes":1723,"size_tokens":null},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { relations } from \"drizzle-orm\";\nimport {\n  index,\n  jsonb,\n  pgTable,\n  timestamp,\n  varchar,\n  text,\n  integer,\n  boolean,\n  decimal,\n  pgEnum,\n} from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// Enums\nexport const languageEnum = pgEnum(\"language\", [\"ar\", \"en\", \"de\", \"fr\", \"es\"]);\nexport const themeEnum = pgEnum(\"theme\", [\"light\", \"dark\"]);\nexport const aiProviderEnum = pgEnum(\"ai_provider\", [\"openai\", \"anthropic\", \"gemini\", \"groq\", \"together\", \"cohere\"]);\nexport const analysisTypeEnum = pgEnum(\"analysis_type\", [\"security\", \"performance\", \"code_quality\"]);\nexport const severityEnum = pgEnum(\"severity\", [\"critical\", \"high\", \"medium\", \"low\"]);\n\n// Session storage table - Required for Replit Auth\nexport const sessions = pgTable(\n  \"sessions\",\n  {\n    sid: varchar(\"sid\").primaryKey(),\n    sess: jsonb(\"sess\").notNull(),\n    expire: timestamp(\"expire\").notNull(),\n  },\n  (table) => [index(\"IDX_session_expire\").on(table.expire)]\n);\n\n// Users table - Required for Replit Auth\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  email: varchar(\"email\").unique(),\n  firstName: varchar(\"first_name\"),\n  lastName: varchar(\"last_name\"),\n  profileImageUrl: varchar(\"profile_image_url\"),\n  language: languageEnum(\"language\").default(\"en\"),\n  theme: themeEnum(\"theme\").default(\"dark\"),\n  walletBalance: decimal(\"wallet_balance\", { precision: 10, scale: 2 }).default(\"0.00\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// API Quotas tracking\nexport const apiQuotas = pgTable(\"api_quotas\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  provider: aiProviderEnum(\"provider\").notNull(),\n  usedToday: integer(\"used_today\").default(0),\n  dailyLimit: integer(\"daily_limit\").notNull(),\n  costPerRequest: decimal(\"cost_per_request\", { precision: 10, scale: 6 }).default(\"0.000000\"),\n  isFree: boolean(\"is_free\").default(true),\n  lastResetAt: timestamp(\"last_reset_at\").defaultNow(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Chat conversations\nexport const conversations = pgTable(\"conversations\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  title: varchar(\"title\").default(\"New Chat\"),\n  model: varchar(\"model\").default(\"gemini-2.5-flash\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Chat messages\nexport const messages = pgTable(\"messages\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  conversationId: varchar(\"conversation_id\").notNull().references(() => conversations.id, { onDelete: \"cascade\" }),\n  role: varchar(\"role\", { length: 20 }).notNull(), // 'user' | 'assistant'\n  content: text(\"content\").notNull(),\n  model: varchar(\"model\"),\n  tokensUsed: integer(\"tokens_used\").default(0),\n  cost: decimal(\"cost\", { precision: 10, scale: 6 }).default(\"0.000000\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// WordPress analysis projects\nexport const wpProjects = pgTable(\"wp_projects\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  name: varchar(\"name\").notNull(),\n  type: varchar(\"type\", { length: 20 }).notNull(), // 'theme' | 'plugin'\n  version: varchar(\"version\"),\n  securityScore: integer(\"security_score\"),\n  performanceScore: integer(\"performance_score\"),\n  codeQualityScore: integer(\"code_quality_score\"),\n  analysisData: jsonb(\"analysis_data\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// WordPress analysis issues\nexport const wpIssues = pgTable(\"wp_issues\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  projectId: varchar(\"project_id\").notNull().references(() => wpProjects.id, { onDelete: \"cascade\" }),\n  type: analysisTypeEnum(\"type\").notNull(),\n  severity: severityEnum(\"severity\").notNull(),\n  title: varchar(\"title\").notNull(),\n  description: text(\"description\"),\n  filePath: varchar(\"file_path\"),\n  lineNumber: integer(\"line_number\"),\n  codeSnippet: text(\"code_snippet\"),\n  suggestedFix: text(\"suggested_fix\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Generated images\nexport const generatedImages = pgTable(\"generated_images\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  prompt: text(\"prompt\").notNull(),\n  imageUrl: varchar(\"image_url\").notNull(),\n  model: varchar(\"model\").notNull(), // 'dall-e-3' | 'stable-diffusion'\n  size: varchar(\"size\"),\n  style: varchar(\"style\"),\n  cost: decimal(\"cost\", { precision: 10, scale: 4 }),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Elementor templates\nexport const elementorTemplates = pgTable(\"elementor_templates\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  name: varchar(\"name\").notNull(),\n  description: text(\"description\"),\n  templateJson: jsonb(\"template_json\").notNull(),\n  previewImageUrl: varchar(\"preview_image_url\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Wallet transactions\nexport const walletTransactions = pgTable(\"wallet_transactions\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  amount: decimal(\"amount\", { precision: 10, scale: 2 }).notNull(),\n  type: varchar(\"type\", { length: 20 }).notNull(), // 'deposit' | 'usage' | 'refund'\n  description: varchar(\"description\"),\n  stripePaymentId: varchar(\"stripe_payment_id\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Relations\nexport const usersRelations = relations(users, ({ many }) => ({\n  conversations: many(conversations),\n  apiQuotas: many(apiQuotas),\n  wpProjects: many(wpProjects),\n  generatedImages: many(generatedImages),\n  elementorTemplates: many(elementorTemplates),\n  walletTransactions: many(walletTransactions),\n}));\n\nexport const conversationsRelations = relations(conversations, ({ one, many }) => ({\n  user: one(users, { fields: [conversations.userId], references: [users.id] }),\n  messages: many(messages),\n}));\n\nexport const messagesRelations = relations(messages, ({ one }) => ({\n  conversation: one(conversations, { fields: [messages.conversationId], references: [conversations.id] }),\n}));\n\nexport const apiQuotasRelations = relations(apiQuotas, ({ one }) => ({\n  user: one(users, { fields: [apiQuotas.userId], references: [users.id] }),\n}));\n\nexport const wpProjectsRelations = relations(wpProjects, ({ one, many }) => ({\n  user: one(users, { fields: [wpProjects.userId], references: [users.id] }),\n  issues: many(wpIssues),\n}));\n\nexport const wpIssuesRelations = relations(wpIssues, ({ one }) => ({\n  project: one(wpProjects, { fields: [wpIssues.projectId], references: [wpProjects.id] }),\n}));\n\n// Insert schemas\nexport const insertUserSchema = createInsertSchema(users).omit({ id: true, createdAt: true, updatedAt: true });\nexport const insertConversationSchema = createInsertSchema(conversations).omit({ id: true, createdAt: true, updatedAt: true });\nexport const insertMessageSchema = createInsertSchema(messages).omit({ id: true, createdAt: true });\nexport const insertApiQuotaSchema = createInsertSchema(apiQuotas).omit({ id: true, createdAt: true });\nexport const insertWpProjectSchema = createInsertSchema(wpProjects).omit({ id: true, createdAt: true });\nexport const insertWpIssueSchema = createInsertSchema(wpIssues).omit({ id: true, createdAt: true });\nexport const insertGeneratedImageSchema = createInsertSchema(generatedImages).omit({ id: true, createdAt: true });\nexport const insertElementorTemplateSchema = createInsertSchema(elementorTemplates).omit({ id: true, createdAt: true });\nexport const insertWalletTransactionSchema = createInsertSchema(walletTransactions).omit({ id: true, createdAt: true });\n\n// Types\nexport type UpsertUser = typeof users.$inferInsert;\nexport type User = typeof users.$inferSelect;\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type Conversation = typeof conversations.$inferSelect;\nexport type InsertConversation = z.infer<typeof insertConversationSchema>;\nexport type Message = typeof messages.$inferSelect;\nexport type InsertMessage = z.infer<typeof insertMessageSchema>;\nexport type ApiQuota = typeof apiQuotas.$inferSelect;\nexport type InsertApiQuota = z.infer<typeof insertApiQuotaSchema>;\nexport type WpProject = typeof wpProjects.$inferSelect;\nexport type InsertWpProject = z.infer<typeof insertWpProjectSchema>;\nexport type WpIssue = typeof wpIssues.$inferSelect;\nexport type InsertWpIssue = z.infer<typeof insertWpIssueSchema>;\nexport type GeneratedImage = typeof generatedImages.$inferSelect;\nexport type InsertGeneratedImage = z.infer<typeof insertGeneratedImageSchema>;\nexport type ElementorTemplate = typeof elementorTemplates.$inferSelect;\nexport type InsertElementorTemplate = z.infer<typeof insertElementorTemplateSchema>;\nexport type WalletTransaction = typeof walletTransactions.$inferSelect;\nexport type InsertWalletTransaction = z.infer<typeof insertWalletTransactionSchema>;\n","path":null,"size_bytes":9556,"size_tokens":null},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","path":null,"size_bytes":1467,"size_tokens":null},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","path":null,"size_bytes":844,"size_tokens":null},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","path":null,"size_bytes":4420,"size_tokens":null},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","path":null,"size_bytes":140,"size_tokens":null},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","path":null,"size_bytes":21846,"size_tokens":null},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","path":null,"size_bytes":10481,"size_tokens":null},"server/ai/providers.ts":{"content":"// AI Provider configurations for Remon Romany Genius\n// Supports: Gemini, Anthropic, OpenAI, Groq\n\nexport interface AIProvider {\n  id: string;\n  name: string;\n  models: AIModel[];\n  dailyFreeLimit: number;\n  isFree: boolean;\n}\n\nexport interface AIModel {\n  id: string;\n  name: string;\n  provider: string;\n  costPerRequest?: number; // in USD, undefined means free\n  contextWindow: number;\n  capabilities: string[];\n}\n\nexport const AI_PROVIDERS: AIProvider[] = [\n  {\n    id: \"gemini\",\n    name: \"Google Gemini\",\n    dailyFreeLimit: 1500,\n    isFree: true,\n    models: [\n      {\n        id: \"gemini-2.5-flash\",\n        name: \"Gemini 2.5 Flash\",\n        provider: \"gemini\",\n        contextWindow: 1000000,\n        capabilities: [\"text\", \"code\", \"vision\"],\n      },\n      {\n        id: \"gemini-2.5-pro\",\n        name: \"Gemini 2.5 Pro\",\n        provider: \"gemini\",\n        contextWindow: 2000000,\n        capabilities: [\"text\", \"code\", \"vision\", \"reasoning\"],\n      },\n    ],\n  },\n  {\n    id: \"anthropic\",\n    name: \"Anthropic Claude\",\n    dailyFreeLimit: 1000,\n    isFree: true,\n    models: [\n      {\n        id: \"claude-sonnet-4-20250514\",\n        name: \"Claude Sonnet 4\",\n        provider: \"anthropic\",\n        contextWindow: 200000,\n        capabilities: [\"text\", \"code\", \"vision\", \"reasoning\"],\n      },\n      {\n        id: \"claude-3-5-haiku-20241022\",\n        name: \"Claude 3.5 Haiku\",\n        provider: \"anthropic\",\n        contextWindow: 200000,\n        capabilities: [\"text\", \"code\"],\n      },\n    ],\n  },\n  {\n    id: \"groq\",\n    name: \"Groq\",\n    dailyFreeLimit: 10000,\n    isFree: true,\n    models: [\n      {\n        id: \"llama-3.3-70b-versatile\",\n        name: \"Llama 3.3 70B\",\n        provider: \"groq\",\n        contextWindow: 128000,\n        capabilities: [\"text\", \"code\"],\n      },\n      {\n        id: \"mixtral-8x7b-32768\",\n        name: \"Mixtral 8x7B\",\n        provider: \"groq\",\n        contextWindow: 32768,\n        capabilities: [\"text\", \"code\"],\n      },\n    ],\n  },\n  {\n    id: \"openai\",\n    name: \"OpenAI\",\n    dailyFreeLimit: 0,\n    isFree: false,\n    models: [\n      {\n        id: \"gpt-4o\",\n        name: \"GPT-4o\",\n        provider: \"openai\",\n        costPerRequest: 0.002,\n        contextWindow: 128000,\n        capabilities: [\"text\", \"code\", \"vision\", \"reasoning\"],\n      },\n      {\n        id: \"gpt-4o-mini\",\n        name: \"GPT-4o Mini\",\n        provider: \"openai\",\n        costPerRequest: 0.0001,\n        contextWindow: 128000,\n        capabilities: [\"text\", \"code\", \"vision\"],\n      },\n    ],\n  },\n];\n\nexport function getProviderById(id: string): AIProvider | undefined {\n  return AI_PROVIDERS.find((p) => p.id === id);\n}\n\nexport function getModelById(modelId: string): AIModel | undefined {\n  for (const provider of AI_PROVIDERS) {\n    const model = provider.models.find((m) => m.id === modelId);\n    if (model) return model;\n  }\n  return undefined;\n}\n\nexport function getAllModels(): AIModel[] {\n  return AI_PROVIDERS.flatMap((p) => p.models);\n}\n\nexport function getFreeProviders(): AIProvider[] {\n  return AI_PROVIDERS.filter((p) => p.isFree);\n}\n","path":null,"size_bytes":3072,"size_tokens":null},"client/src/hooks/useAuth.ts":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport type { User } from \"@shared/schema\";\n\nexport function useAuth() {\n  const { data: user, isLoading, error } = useQuery<User>({\n    queryKey: [\"/api/auth/user\"],\n    retry: false,\n  });\n\n  return {\n    user,\n    isLoading,\n    isAuthenticated: !!user,\n    error,\n  };\n}\n","path":null,"size_bytes":325,"size_tokens":null},"client/src/pages/Settings.tsx":{"content":"import { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport {\n  Settings as SettingsIcon,\n  Globe,\n  Moon,\n  Sun,\n  Bell,\n  Key,\n  User,\n  Save,\n  Loader2,\n  Check,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { useLanguage } from \"@/contexts/LanguageContext\";\nimport { useTheme } from \"@/contexts/ThemeContext\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { languages, type Language } from \"@/lib/i18n\";\n\nexport default function Settings() {\n  const { t, language, setLanguage, isRTL } = useLanguage();\n  const { theme, setTheme, isDark } = useTheme();\n  const { user } = useAuth();\n  const [isSaving, setIsSaving] = useState(false);\n  const [saved, setSaved] = useState(false);\n\n  // Notification settings\n  const [notifications, setNotifications] = useState({\n    quotaWarnings: true,\n    modelSwitching: true,\n    costAlerts: true,\n    dailyDigest: false,\n  });\n\n  const handleSave = async () => {\n    setIsSaving(true);\n    // Simulate saving (will be replaced with real API)\n    await new Promise((resolve) => setTimeout(resolve, 1000));\n    setIsSaving(false);\n    setSaved(true);\n    setTimeout(() => setSaved(false), 2000);\n  };\n\n  return (\n    <div className=\"min-h-full p-4 sm:p-6 lg:p-8\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"mx-auto max-w-2xl space-y-6\"\n      >\n        {/* Header */}\n        <div>\n          <h1 className=\"text-2xl font-bold sm:text-3xl\">{t(\"settings.title\")}</h1>\n          <p className=\"text-muted-foreground\">Manage your account and preferences</p>\n        </div>\n\n        {/* Profile Card */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <User className=\"h-5 w-5\" />\n              Profile\n            </CardTitle>\n            <CardDescription>Your account information</CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"flex items-center gap-4\">\n              <Avatar className=\"h-16 w-16\">\n                <AvatarImage src={user?.profileImageUrl || undefined} />\n                <AvatarFallback className=\"bg-primary text-primary-foreground text-lg\">\n                  {user?.firstName?.[0] || user?.email?.[0] || \"U\"}\n                </AvatarFallback>\n              </Avatar>\n              <div>\n                <p className=\"font-semibold\">\n                  {user?.firstName} {user?.lastName}\n                </p>\n                <p className=\"text-sm text-muted-foreground\">{user?.email}</p>\n              </div>\n            </div>\n\n            <div className=\"grid gap-4 sm:grid-cols-2\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"firstName\">First Name</Label>\n                <Input\n                  id=\"firstName\"\n                  defaultValue={user?.firstName || \"\"}\n                  data-testid=\"input-first-name\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"lastName\">Last Name</Label>\n                <Input\n                  id=\"lastName\"\n                  defaultValue={user?.lastName || \"\"}\n                  data-testid=\"input-last-name\"\n                />\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Appearance Card */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              {isDark ? <Moon className=\"h-5 w-5\" /> : <Sun className=\"h-5 w-5\" />}\n              Appearance\n            </CardTitle>\n            <CardDescription>Customize how the app looks</CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-6\">\n            {/* Theme */}\n            <div className=\"flex items-center justify-between\">\n              <div className=\"space-y-0.5\">\n                <Label>{t(\"settings.theme\")}</Label>\n                <p className=\"text-sm text-muted-foreground\">\n                  Switch between light and dark mode\n                </p>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Sun className=\"h-4 w-4 text-muted-foreground\" />\n                <Switch\n                  checked={isDark}\n                  onCheckedChange={(checked) => setTheme(checked ? \"dark\" : \"light\")}\n                  data-testid=\"switch-theme\"\n                />\n                <Moon className=\"h-4 w-4 text-muted-foreground\" />\n              </div>\n            </div>\n\n            {/* Language */}\n            <div className=\"flex items-center justify-between\">\n              <div className=\"space-y-0.5\">\n                <Label className=\"flex items-center gap-2\">\n                  <Globe className=\"h-4 w-4\" />\n                  {t(\"settings.language\")}\n                </Label>\n                <p className=\"text-sm text-muted-foreground\">\n                  Choose your preferred language\n                </p>\n              </div>\n              <Select\n                value={language}\n                onValueChange={(value) => setLanguage(value as Language)}\n              >\n                <SelectTrigger className=\"w-[180px]\" data-testid=\"select-language\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {(Object.keys(languages) as Language[]).map((lang) => (\n                    <SelectItem key={lang} value={lang}>\n                      {languages[lang].nativeName}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Notifications Card */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Bell className=\"h-5 w-5\" />\n              {t(\"settings.notifications\")}\n            </CardTitle>\n            <CardDescription>Configure your notification preferences</CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            {[\n              {\n                key: \"quotaWarnings\",\n                label: \"Quota Warnings\",\n                description: \"Get notified when your quota is running low\",\n              },\n              {\n                key: \"modelSwitching\",\n                label: \"Model Switching\",\n                description: \"Notify when AI model is automatically switched\",\n              },\n              {\n                key: \"costAlerts\",\n                label: \"Cost Alerts\",\n                description: \"Alert before paid API requests\",\n              },\n              {\n                key: \"dailyDigest\",\n                label: \"Daily Digest\",\n                description: \"Receive a daily summary of your usage\",\n              },\n            ].map((item) => (\n              <div key={item.key} className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label>{item.label}</Label>\n                  <p className=\"text-sm text-muted-foreground\">{item.description}</p>\n                </div>\n                <Switch\n                  checked={notifications[item.key as keyof typeof notifications]}\n                  onCheckedChange={(checked) =>\n                    setNotifications((prev) => ({ ...prev, [item.key]: checked }))\n                  }\n                  data-testid={`switch-${item.key}`}\n                />\n              </div>\n            ))}\n          </CardContent>\n        </Card>\n\n        {/* API Keys Card */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Key className=\"h-5 w-5\" />\n              API Keys\n            </CardTitle>\n            <CardDescription>\n              Optionally add your own API keys for higher limits\n            </CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"openai-key\">OpenAI API Key</Label>\n              <Input\n                id=\"openai-key\"\n                type=\"password\"\n                placeholder=\"sk-...\"\n                data-testid=\"input-openai-key\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"anthropic-key\">Anthropic API Key</Label>\n              <Input\n                id=\"anthropic-key\"\n                type=\"password\"\n                placeholder=\"sk-ant-...\"\n                data-testid=\"input-anthropic-key\"\n              />\n            </div>\n            <p className=\"text-sm text-muted-foreground\">\n              Your API keys are encrypted and stored securely. They are only used to make\n              requests on your behalf.\n            </p>\n          </CardContent>\n        </Card>\n\n        {/* Save Button */}\n        <div className=\"flex justify-end\">\n          <Button\n            onClick={handleSave}\n            disabled={isSaving}\n            className=\"gap-2\"\n            data-testid=\"button-save-settings\"\n          >\n            {isSaving ? (\n              <>\n                <Loader2 className=\"h-4 w-4 animate-spin\" />\n                Saving...\n              </>\n            ) : saved ? (\n              <>\n                <Check className=\"h-4 w-4\" />\n                Saved!\n              </>\n            ) : (\n              <>\n                <Save className=\"h-4 w-4\" />\n                {t(\"settings.save\")}\n              </>\n            )}\n          </Button>\n        </div>\n      </motion.div>\n    </div>\n  );\n}\n","path":null,"size_bytes":10045,"size_tokens":null},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","path":null,"size_bytes":80,"size_tokens":null},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","path":null,"size_bytes":1077,"size_tokens":null},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","path":null,"size_bytes":3895,"size_tokens":null},"client/src/components/layout/Header.tsx":{"content":"import { Moon, Sun, Globe, Menu, LogOut, User as UserIcon } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n  DropdownMenuSeparator,\n} from \"@/components/ui/dropdown-menu\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { useTheme } from \"@/contexts/ThemeContext\";\nimport { useLanguage } from \"@/contexts/LanguageContext\";\nimport { languages, type Language } from \"@/lib/i18n\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { SidebarTrigger } from \"@/components/ui/sidebar\";\n\nexport function Header() {\n  const { theme, toggleTheme, isDark } = useTheme();\n  const { language, setLanguage, t, isRTL } = useLanguage();\n  const { user, isAuthenticated } = useAuth();\n\n  const handleLogout = () => {\n    window.location.href = \"/api/logout\";\n  };\n\n  const handleLogin = () => {\n    window.location.href = \"/api/login\";\n  };\n\n  return (\n    <header className=\"sticky top-0 z-50 h-16 border-b border-border bg-background/70 backdrop-blur-md\">\n      <div className=\"flex h-full items-center justify-between gap-4 px-4\">\n        {/* Left side */}\n        <div className=\"flex items-center gap-2\">\n          {isAuthenticated && (\n            <SidebarTrigger data-testid=\"button-sidebar-toggle\" />\n          )}\n          <h1 className=\"text-lg font-semibold bg-gradient-to-r from-primary to-blue-400 bg-clip-text text-transparent hidden sm:block\">\n            Remon Romany Genius\n          </h1>\n        </div>\n\n        {/* Right side */}\n        <div className=\"flex items-center gap-2\">\n          {/* Language Selector */}\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" data-testid=\"button-language-toggle\">\n                <Globe className=\"h-5 w-5\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align={isRTL ? \"start\" : \"end\"}>\n              {(Object.keys(languages) as Language[]).map((lang) => (\n                <DropdownMenuItem\n                  key={lang}\n                  onClick={() => setLanguage(lang)}\n                  className={language === lang ? \"bg-accent\" : \"\"}\n                  data-testid={`button-language-${lang}`}\n                >\n                  {languages[lang].nativeName}\n                </DropdownMenuItem>\n              ))}\n            </DropdownMenuContent>\n          </DropdownMenu>\n\n          {/* Theme Toggle */}\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={toggleTheme}\n            data-testid=\"button-theme-toggle\"\n          >\n            {isDark ? <Sun className=\"h-5 w-5\" /> : <Moon className=\"h-5 w-5\" />}\n          </Button>\n\n          {/* User Menu */}\n          {isAuthenticated && user ? (\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"ghost\" className=\"relative h-9 w-9 rounded-full\" data-testid=\"button-user-menu\">\n                  <Avatar className=\"h-9 w-9\">\n                    <AvatarImage \n                      src={user.profileImageUrl || undefined} \n                      alt={user.firstName || \"User\"} \n                      className=\"object-cover\"\n                    />\n                    <AvatarFallback className=\"bg-primary text-primary-foreground\">\n                      {user.firstName?.[0] || user.email?.[0] || \"U\"}\n                    </AvatarFallback>\n                  </Avatar>\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align={isRTL ? \"start\" : \"end\"} className=\"w-56\">\n                <div className=\"flex items-center justify-start gap-2 p-2\">\n                  <div className=\"flex flex-col space-y-0.5\">\n                    <p className=\"text-sm font-medium\">\n                      {user.firstName} {user.lastName}\n                    </p>\n                    <p className=\"text-xs text-muted-foreground\">{user.email}</p>\n                  </div>\n                </div>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem onClick={handleLogout} data-testid=\"button-logout\">\n                  <LogOut className=\"mr-2 h-4 w-4\" />\n                  {t(\"nav.logout\")}\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          ) : (\n            <Button onClick={handleLogin} data-testid=\"button-login\">\n              {t(\"nav.login\")}\n            </Button>\n          )}\n        </div>\n      </div>\n    </header>\n  );\n}\n","path":null,"size_bytes":4595,"size_tokens":null},"client/src/pages/Chat.tsx":{"content":"import { useState, useRef, useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport {\n  Send,\n  Copy,\n  Check,\n  Bot,\n  User,\n  Sparkles,\n  ChevronDown,\n  Plus,\n  Loader2,\n  Trash2,\n  MessageSquare,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Card } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { useLanguage } from \"@/contexts/LanguageContext\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nconst aiModels = [\n  { id: \"gemini-2.5-flash\", name: \"Gemini 2.5 Flash\", provider: \"Google\", isFree: true, color: \"bg-blue-500\" },\n  { id: \"claude-sonnet-4-20250514\", name: \"Claude Sonnet 4\", provider: \"Anthropic\", isFree: true, color: \"bg-purple-500\" },\n  { id: \"gpt-4o\", name: \"GPT-4o\", provider: \"OpenAI\", isFree: false, cost: \"$0.002/req\", color: \"bg-green-500\" },\n  { id: \"llama-3.3-70b-versatile\", name: \"Llama 3.3 70B\", provider: \"Groq\", isFree: true, color: \"bg-orange-500\" },\n];\n\ninterface Message {\n  id: string;\n  role: \"user\" | \"assistant\";\n  content: string;\n  model?: string;\n  createdAt: string;\n}\n\ninterface Conversation {\n  id: string;\n  title: string;\n  model: string;\n  createdAt: string;\n  updatedAt: string;\n  messages?: Message[];\n}\n\nexport default function Chat() {\n  const { t, isRTL } = useLanguage();\n  const { toast } = useToast();\n  const [currentConversationId, setCurrentConversationId] = useState<string | null>(null);\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [input, setInput] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedModel, setSelectedModel] = useState(aiModels[0]);\n  const [copiedId, setCopiedId] = useState<string | null>(null);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  const { data: conversations = [], isLoading: conversationsLoading } = useQuery<Conversation[]>({\n    queryKey: [\"/api/conversations\"],\n  });\n\n  const { data: currentConversation, refetch: refetchConversation } = useQuery<Conversation>({\n    queryKey: [\"/api/conversations\", currentConversationId],\n    enabled: !!currentConversationId,\n  });\n\n  useEffect(() => {\n    if (currentConversation?.messages) {\n      setMessages(currentConversation.messages);\n    }\n  }, [currentConversation]);\n\n  const createConversationMutation = useMutation({\n    mutationFn: async () => {\n      return apiRequest<Conversation>(\"/api/conversations\", {\n        method: \"POST\",\n        body: JSON.stringify({ title: \"New Chat\", model: selectedModel.id }),\n      });\n    },\n    onSuccess: (data) => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/conversations\"] });\n      setCurrentConversationId(data.id);\n      setMessages([]);\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to create conversation\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const deleteConversationMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return apiRequest(`/api/conversations/${id}`, { method: \"DELETE\" });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/conversations\"] });\n      if (currentConversationId) {\n        setCurrentConversationId(null);\n        setMessages([]);\n      }\n    },\n  });\n\n  const sendMessageMutation = useMutation({\n    mutationFn: async ({ conversationId, message, modelId }: { conversationId: string; message: string; modelId: string }) => {\n      return apiRequest(\"/api/chat\", {\n        method: \"POST\",\n        body: JSON.stringify({ conversationId, message, modelId }),\n      });\n    },\n    onSuccess: (data: any) => {\n      if (data.message) {\n        setMessages((prev) => [...prev, data.message]);\n      }\n      if (data.switchedProvider) {\n        toast({\n          title: \"Provider Switched\",\n          description: `Quota exhausted. Switched to ${data.switchedProvider}`,\n        });\n      }\n      queryClient.invalidateQueries({ queryKey: [\"/api/conversations\"] });\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Error\",\n        description: error.message || \"Failed to send message\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleNewChat = async () => {\n    createConversationMutation.mutate();\n  };\n\n  const handleSelectConversation = (id: string) => {\n    setCurrentConversationId(id);\n  };\n\n  const handleSend = async () => {\n    if (!input.trim() || isLoading) return;\n\n    let conversationId = currentConversationId;\n\n    if (!conversationId) {\n      const newConv = await createConversationMutation.mutateAsync();\n      conversationId = newConv.id;\n    }\n\n    const userMessage: Message = {\n      id: Date.now().toString(),\n      role: \"user\",\n      content: input.trim(),\n      createdAt: new Date().toISOString(),\n    };\n\n    setMessages((prev) => [...prev, userMessage]);\n    setInput(\"\");\n    setIsLoading(true);\n\n    try {\n      await sendMessageMutation.mutateAsync({\n        conversationId,\n        message: input.trim(),\n        modelId: selectedModel.id,\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  const copyToClipboard = (text: string, id: string) => {\n    navigator.clipboard.writeText(text);\n    setCopiedId(id);\n    setTimeout(() => setCopiedId(null), 2000);\n  };\n\n  const renderContent = (content: string) => {\n    const parts = content.split(/(```[\\s\\S]*?```)/g);\n    \n    return parts.map((part, index) => {\n      if (part.startsWith(\"```\")) {\n        const match = part.match(/```(\\w+)?\\n?([\\s\\S]*?)```/);\n        if (match) {\n          const language = match[1] || \"code\";\n          const code = match[2].trim();\n          return (\n            <div key={index} className=\"group relative my-4\">\n              <div className=\"flex items-center justify-between rounded-t-lg bg-muted px-4 py-2\">\n                <Badge variant=\"outline\" className=\"text-xs\">{language}</Badge>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"opacity-0 group-hover:opacity-100 transition-opacity\"\n                  onClick={() => copyToClipboard(code, `code-${index}`)}\n                  data-testid={`button-copy-code-${index}`}\n                >\n                  {copiedId === `code-${index}` ? (\n                    <Check className=\"h-3 w-3 text-green-500\" />\n                  ) : (\n                    <Copy className=\"h-3 w-3\" />\n                  )}\n                </Button>\n              </div>\n              <pre className=\"overflow-x-auto rounded-b-lg bg-card p-4 font-mono text-sm\">\n                <code>{code}</code>\n              </pre>\n            </div>\n          );\n        }\n      }\n      \n      return (\n        <div key={index} className=\"whitespace-pre-wrap\">\n          {part.split(\"\\n\").map((line, lineIndex) => {\n            if (line.startsWith(\"## \")) {\n              return (\n                <h2 key={lineIndex} className=\"mt-4 mb-2 text-lg font-semibold\">\n                  {line.replace(\"## \", \"\")}\n                </h2>\n              );\n            }\n            if (line.startsWith(\"# \")) {\n              return (\n                <h1 key={lineIndex} className=\"mt-4 mb-2 text-xl font-bold\">\n                  {line.replace(\"# \", \"\")}\n                </h1>\n              );\n            }\n            return <span key={lineIndex}>{line}{lineIndex < part.split(\"\\n\").length - 1 ? \"\\n\" : \"\"}</span>;\n          })}\n        </div>\n      );\n    });\n  };\n\n  return (\n    <div className=\"flex h-full\">\n      {/* Conversations Sidebar */}\n      <div className=\"hidden w-64 flex-col border-r border-border bg-card/30 md:flex\">\n        <div className=\"p-3\">\n          <Button\n            onClick={handleNewChat}\n            variant=\"outline\"\n            className=\"w-full justify-start gap-2\"\n            disabled={createConversationMutation.isPending}\n            data-testid=\"button-new-chat\"\n          >\n            <Plus className=\"h-4 w-4\" />\n            {t(\"chat.newChat\")}\n          </Button>\n        </div>\n        \n        <ScrollArea className=\"flex-1 px-2\">\n          <div className=\"space-y-1 py-2\">\n            {conversationsLoading ? (\n              <div className=\"flex justify-center p-4\">\n                <Loader2 className=\"h-5 w-5 animate-spin text-muted-foreground\" />\n              </div>\n            ) : conversations.length === 0 ? (\n              <p className=\"p-4 text-center text-sm text-muted-foreground\">\n                No conversations yet\n              </p>\n            ) : (\n              conversations.map((conv) => (\n                <div\n                  key={conv.id}\n                  className={`group flex items-center gap-2 rounded-lg px-3 py-2 text-sm hover-elevate cursor-pointer ${\n                    currentConversationId === conv.id ? \"bg-accent\" : \"\"\n                  }`}\n                  onClick={() => handleSelectConversation(conv.id)}\n                  data-testid={`conversation-${conv.id}`}\n                >\n                  <MessageSquare className=\"h-4 w-4 shrink-0 text-muted-foreground\" />\n                  <span className=\"flex-1 truncate\">{conv.title}</span>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"invisible h-6 w-6 group-hover:visible\"\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      deleteConversationMutation.mutate(conv.id);\n                    }}\n                    data-testid={`button-delete-${conv.id}`}\n                  >\n                    <Trash2 className=\"h-3 w-3\" />\n                  </Button>\n                </div>\n              ))\n            )}\n          </div>\n        </ScrollArea>\n      </div>\n\n      {/* Main Chat Area */}\n      <div className=\"flex flex-1 flex-col\">\n        {/* Chat Header */}\n        <div className=\"flex items-center justify-between border-b border-border px-4 py-3\">\n          <div className=\"flex items-center gap-3 md:hidden\">\n            <Button variant=\"ghost\" size=\"sm\" className=\"gap-2\" onClick={handleNewChat}>\n              <Plus className=\"h-4 w-4\" />\n              {t(\"chat.newChat\")}\n            </Button>\n          </div>\n\n          {/* Model Selector */}\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"outline\" size=\"sm\" className=\"gap-2 ml-auto\" data-testid=\"button-model-selector\">\n                <div className={`h-2 w-2 rounded-full ${selectedModel.color}`} />\n                {selectedModel.name}\n                <ChevronDown className=\"h-4 w-4\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\">\n              {aiModels.map((model) => (\n                <DropdownMenuItem\n                  key={model.id}\n                  onClick={() => setSelectedModel(model)}\n                  className=\"flex items-center justify-between gap-4\"\n                  data-testid={`model-option-${model.id}`}\n                >\n                  <div className=\"flex items-center gap-2\">\n                    <div className={`h-2 w-2 rounded-full ${model.color}`} />\n                    <span>{model.name}</span>\n                  </div>\n                  {model.isFree ? (\n                    <Badge variant=\"secondary\" className=\"text-xs\">Free</Badge>\n                  ) : (\n                    <Badge variant=\"outline\" className=\"text-xs\">{model.cost}</Badge>\n                  )}\n                </DropdownMenuItem>\n              ))}\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n\n        {/* Messages Area */}\n        <ScrollArea className=\"flex-1 p-4\">\n          <div className=\"mx-auto max-w-3xl space-y-6\">\n            {messages.length === 0 && !isLoading && (\n              <div className=\"flex flex-col items-center justify-center py-20 text-center\">\n                <div className=\"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-primary/80 to-blue-500\">\n                  <Bot className=\"h-8 w-8 text-white\" />\n                </div>\n                <h3 className=\"mb-2 text-xl font-semibold\">{t(\"chat.welcomeTitle\")}</h3>\n                <p className=\"max-w-md text-muted-foreground\">\n                  {t(\"chat.welcomeMessage\")}\n                </p>\n              </div>\n            )}\n\n            <AnimatePresence initial={false}>\n              {messages.map((message) => (\n                <motion.div\n                  key={message.id}\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  exit={{ opacity: 0, y: -20 }}\n                  className={`flex gap-3 ${message.role === \"user\" ? (isRTL ? \"flex-row\" : \"flex-row-reverse\") : \"\"}`}\n                >\n                  <div className={`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${\n                    message.role === \"user\" ? \"bg-primary\" : \"bg-gradient-to-br from-primary/80 to-blue-500\"\n                  }`}>\n                    {message.role === \"user\" ? (\n                      <User className=\"h-4 w-4 text-primary-foreground\" />\n                    ) : (\n                      <Bot className=\"h-4 w-4 text-white\" />\n                    )}\n                  </div>\n\n                  <div className={`flex-1 ${message.role === \"user\" ? (isRTL ? \"text-left\" : \"text-right\") : \"\"}`}>\n                    {message.role === \"assistant\" && message.model && (\n                      <div className=\"mb-1 flex items-center gap-2\">\n                        <Badge variant=\"outline\" className=\"text-xs\">\n                          <Sparkles className=\"mr-1 h-3 w-3\" />\n                          {aiModels.find(m => m.id === message.model)?.name || message.model}\n                        </Badge>\n                      </div>\n                    )}\n                    <Card className={`inline-block max-w-full p-4 ${\n                      message.role === \"user\" \n                        ? \"bg-primary text-primary-foreground\" \n                        : \"bg-card/80 backdrop-blur-sm\"\n                    }`}>\n                      <div className={message.role === \"user\" ? \"\" : \"prose prose-sm dark:prose-invert max-w-none\"}>\n                        {message.role === \"user\" ? message.content : renderContent(message.content)}\n                      </div>\n                    </Card>\n                  </div>\n                </motion.div>\n              ))}\n            </AnimatePresence>\n\n            {isLoading && (\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                className=\"flex gap-3\"\n              >\n                <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-primary/80 to-blue-500\">\n                  <Bot className=\"h-4 w-4 text-white\" />\n                </div>\n                <Card className=\"inline-flex items-center gap-2 bg-card/80 p-4 backdrop-blur-sm\">\n                  <Loader2 className=\"h-4 w-4 animate-spin\" />\n                  <span className=\"text-sm text-muted-foreground\">{t(\"chat.thinking\")}</span>\n                </Card>\n              </motion.div>\n            )}\n\n            <div ref={messagesEndRef} />\n          </div>\n        </ScrollArea>\n\n        {/* Input Area */}\n        <div className=\"border-t border-border bg-background/80 p-4 backdrop-blur-md\">\n          <div className=\"mx-auto max-w-3xl\">\n            <div className=\"flex items-end gap-2\">\n              <div className=\"relative flex-1\">\n                <Textarea\n                  value={input}\n                  onChange={(e) => setInput(e.target.value)}\n                  onKeyDown={handleKeyDown}\n                  placeholder={t(\"chat.placeholder\")}\n                  className=\"min-h-[52px] max-h-[200px] resize-none pr-12\"\n                  rows={1}\n                  data-testid=\"input-chat-message\"\n                />\n              </div>\n              <Button\n                onClick={handleSend}\n                disabled={!input.trim() || isLoading}\n                size=\"icon\"\n                className=\"h-[52px] w-[52px]\"\n                data-testid=\"button-send-message\"\n              >\n                {isLoading ? (\n                  <Loader2 className=\"h-5 w-5 animate-spin\" />\n                ) : (\n                  <Send className={`h-5 w-5 ${isRTL ? \"rotate-180\" : \"\"}`} />\n                )}\n              </Button>\n            </div>\n            \n            <div className=\"mt-2 flex items-center justify-between text-xs text-muted-foreground\">\n              <span>\n                {selectedModel.isFree ? (\n                  <span className=\"flex items-center gap-1\">\n                    <span className=\"inline-block h-1.5 w-1.5 rounded-full bg-green-500\" />\n                    Using free tier\n                  </span>\n                ) : (\n                  <span className=\"flex items-center gap-1\">\n                    <span className=\"inline-block h-1.5 w-1.5 rounded-full bg-yellow-500\" />\n                    Cost: {selectedModel.cost}\n                  </span>\n                )}\n              </span>\n              <span>Press Enter to send, Shift+Enter for new line</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":17975,"size_tokens":null},"client/src/lib/authUtils.ts":{"content":"export function isUnauthorizedError(error: Error): boolean {\n  return /^401: .*Unauthorized/.test(error.message);\n}\n","path":null,"size_bytes":116,"size_tokens":null},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","path":null,"size_bytes":1139,"size_tokens":null},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","path":null,"size_bytes":3021,"size_tokens":null},"server/db.ts":{"content":"import { drizzle } from \"drizzle-orm/node-postgres\";\nimport pg from \"pg\";\nimport * as schema from \"@shared/schema\";\n\nconst { Pool } = pg;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle(pool, { schema });\n","path":null,"size_bytes":395,"size_tokens":null},"server/ai/services.ts":{"content":"// AI Service implementations for Remon Romany Genius\n// Integrates with Gemini, Anthropic, OpenAI, Groq\n\nimport { GoogleGenAI } from \"@google/genai\";\nimport Anthropic from \"@anthropic-ai/sdk\";\nimport OpenAI from \"openai\";\n\nexport interface ChatMessage {\n  role: \"user\" | \"assistant\" | \"system\";\n  content: string;\n}\n\nexport interface ChatResponse {\n  content: string;\n  model: string;\n  tokensUsed?: number;\n}\n\n// Gemini AI Service\nexport async function chatWithGemini(\n  messages: ChatMessage[],\n  model: string = \"gemini-2.5-flash\"\n): Promise<ChatResponse> {\n  const apiKey = process.env.GEMINI_API_KEY;\n  if (!apiKey) {\n    throw new Error(\"GEMINI_API_KEY is not configured\");\n  }\n\n  const ai = new GoogleGenAI({ apiKey });\n\n  // Convert messages to Gemini format\n  const systemMessage = messages.find((m) => m.role === \"system\");\n  const chatMessages = messages.filter((m) => m.role !== \"system\");\n\n  const contents = chatMessages.map((m) => ({\n    role: m.role === \"user\" ? \"user\" : \"model\",\n    parts: [{ text: m.content }],\n  }));\n\n  const response = await ai.models.generateContent({\n    model,\n    contents,\n    config: systemMessage\n      ? { systemInstruction: systemMessage.content }\n      : undefined,\n  });\n\n  return {\n    content: response.text || \"\",\n    model,\n  };\n}\n\n// Anthropic Claude Service\nexport async function chatWithClaude(\n  messages: ChatMessage[],\n  model: string = \"claude-sonnet-4-20250514\"\n): Promise<ChatResponse> {\n  const apiKey = process.env.ANTHROPIC_API_KEY;\n  if (!apiKey) {\n    throw new Error(\"ANTHROPIC_API_KEY is not configured\");\n  }\n\n  const client = new Anthropic({ apiKey });\n\n  // Extract system message\n  const systemMessage = messages.find((m) => m.role === \"system\");\n  const chatMessages = messages\n    .filter((m) => m.role !== \"system\")\n    .map((m) => ({\n      role: m.role as \"user\" | \"assistant\",\n      content: m.content,\n    }));\n\n  const response = await client.messages.create({\n    model,\n    max_tokens: 4096,\n    system: systemMessage?.content,\n    messages: chatMessages,\n  });\n\n  const textContent = response.content.find((c) => c.type === \"text\");\n  \n  return {\n    content: textContent?.text || \"\",\n    model,\n    tokensUsed: response.usage?.input_tokens + response.usage?.output_tokens,\n  };\n}\n\n// OpenAI Service\nexport async function chatWithOpenAI(\n  messages: ChatMessage[],\n  model: string = \"gpt-4o\"\n): Promise<ChatResponse> {\n  const apiKey = process.env.OPENAI_API_KEY;\n  if (!apiKey) {\n    throw new Error(\"OPENAI_API_KEY is not configured\");\n  }\n\n  const client = new OpenAI({ apiKey });\n\n  const response = await client.chat.completions.create({\n    model,\n    messages: messages.map((m) => ({\n      role: m.role,\n      content: m.content,\n    })),\n  });\n\n  return {\n    content: response.choices[0]?.message?.content || \"\",\n    model,\n    tokensUsed: response.usage?.total_tokens,\n  };\n}\n\n// Groq Service (uses OpenAI-compatible API)\nexport async function chatWithGroq(\n  messages: ChatMessage[],\n  model: string = \"llama-3.3-70b-versatile\"\n): Promise<ChatResponse> {\n  const apiKey = process.env.GROQ_API_KEY;\n  if (!apiKey) {\n    throw new Error(\"GROQ_API_KEY is not configured\");\n  }\n\n  const client = new OpenAI({\n    apiKey,\n    baseURL: \"https://api.groq.com/openai/v1\",\n  });\n\n  const response = await client.chat.completions.create({\n    model,\n    messages: messages.map((m) => ({\n      role: m.role,\n      content: m.content,\n    })),\n  });\n\n  return {\n    content: response.choices[0]?.message?.content || \"\",\n    model,\n    tokensUsed: response.usage?.total_tokens,\n  };\n}\n\n// Unified chat function that routes to the correct provider\nexport async function chat(\n  messages: ChatMessage[],\n  modelId: string\n): Promise<ChatResponse> {\n  // Determine provider from model ID\n  if (modelId.startsWith(\"gemini\")) {\n    return chatWithGemini(messages, modelId);\n  } else if (modelId.startsWith(\"claude\")) {\n    return chatWithClaude(messages, modelId);\n  } else if (modelId.startsWith(\"gpt\")) {\n    return chatWithOpenAI(messages, modelId);\n  } else if (modelId.includes(\"llama\") || modelId.includes(\"mixtral\")) {\n    return chatWithGroq(messages, modelId);\n  }\n\n  // Default to Gemini\n  return chatWithGemini(messages, \"gemini-2.5-flash\");\n}\n\n// WordPress-specific system prompt\nexport const WORDPRESS_SYSTEM_PROMPT = `You are Remon Romany Genius, an expert AI assistant specialized in WordPress development.\n\nYour expertise includes:\n- WordPress theme and plugin development\n- PHP, JavaScript, CSS, HTML\n- WordPress hooks, filters, and actions\n- WooCommerce development\n- Elementor and other page builders\n- WordPress security best practices\n- Performance optimization\n- Database optimization\n- REST API development\n- Gutenberg block development\n\nWhen providing code:\n1. Always use proper WordPress coding standards\n2. Include security measures (escaping, sanitization, nonces)\n3. Follow WordPress naming conventions\n4. Add helpful comments\n5. Consider backward compatibility\n\nFormat code blocks with proper syntax highlighting using markdown.`;\n\n// Image generation using Gemini\nexport async function generateImageWithGemini(\n  prompt: string\n): Promise<string | null> {\n  const apiKey = process.env.GEMINI_API_KEY;\n  if (!apiKey) {\n    throw new Error(\"GEMINI_API_KEY is not configured\");\n  }\n\n  const ai = new GoogleGenAI({ apiKey });\n\n  try {\n    const response = await ai.models.generateContent({\n      model: \"gemini-2.0-flash-preview-image-generation\",\n      contents: [{ role: \"user\", parts: [{ text: prompt }] }],\n      config: {\n        responseModalities: [\"TEXT\", \"IMAGE\"],\n      },\n    });\n\n    const candidates = response.candidates;\n    if (!candidates || candidates.length === 0) {\n      return null;\n    }\n\n    const content = candidates[0].content;\n    if (!content || !content.parts) {\n      return null;\n    }\n\n    for (const part of content.parts) {\n      if (part.inlineData && part.inlineData.data) {\n        // Return base64 image data\n        return `data:${part.inlineData.mimeType || \"image/png\"};base64,${part.inlineData.data}`;\n      }\n    }\n\n    return null;\n  } catch (error) {\n    console.error(\"Error generating image:\", error);\n    throw error;\n  }\n}\n","path":null,"size_bytes":6177,"size_tokens":null}},"version":2}